<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENERAL SERVICE </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"><title>General Service Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        
/* Form Title and Underline */
.form-title {
    text-align: left;
    color: #002d50;
}

.underline {
    width: 200px;
    height: 1px;
    background-color: #00bfa6;
    margin: 5px 0 10px;
}

/* Sub-header Styling */
.sub-navbar {
    display: flex;
    width: 100%;
    height: 60px;
    align-items: center;
    background-color: #002d50;
    border-bottom: 2px solid #00bfa6;
    position: relative;
    z-index: 999;
}

.sub-navbar .navbar-item.left {
    flex: 0 0 94%;
    display: flex;
    align-items: center;
    padding-left: 15px;
}

/* Customer Details Form Section */
.installation-form1 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px auto; /* Center on desktop */
    max-width: 1000px;
    padding: 20px;
    border-radius: 5px;
}

.installation-form1 label {
    margin-right: 15px;
    font-weight: bold;
}

.installation-form1 input[type="text"] {
    padding: 10px;
    border: 2px solid #00bfa6;
    border-radius: 4px;
    width: 300px; /* Fixed width for input boxes */
    max-width: 300px;
    box-sizing: border-box;
}

/* Flexbox layout for desktop */
.installation-form1 .form-group {
    display: flex;
    flex-direction: row;
    align-items: center;
}

/* Right section for Project Field */
.project-field {
    margin-left: auto;
}

/* Flexbox adjustments for mobile */
@media (max-width: 768px) {
    .installation-form1 {
        flex-direction: column; /* Stack fields vertically on mobile */
        justify-content: center;
        align-items: center;
    }

    .installation-form1 .form-group {
        width: 100%; /* Full width on mobile */
        margin-bottom: 10px;
        display: flex;
        flex-direction: column; /* Align label and input vertically */
    }

    .installation-form1 input[type="text"] {
        width: 100%; /* Full width on mobile */
        max-width: 100%; /* Ensure it doesn’t exceed 100% width */
    }
}

#date {
    padding: 5px;
    border: 2px solid #00bfa6;
    border-radius: 3px;
}
.next-button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #00bfa6; /* Button color */
            color: white; /* Text color */
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            text-align: center;
            text-decoration: none; /* Remove underline */
        }

        .next-button:hover {
            background-color: #008f87; /* Darker shade on hover */
        }
        .installation-form1 .form-group {
    display: flex;
    align-items: center;
    width: 100%; /* Ensure full width */
}

.installation-form1 label {
    margin-right: 15px; /* Space between label and input */
    width: 150px; /* Fixed width for labels */
    font-weight: bold;
}

.installation-form1 input[type="text"] {
    padding: 10px;
    border: 2px solid #00bfa6;
    border-radius: 4px;
    width: calc(100% - 165px); /* Adjust for label width and margin */
    box-sizing: border-box;
}
/* Flexbox adjustments for mobile */
@media (max-width: 768px) {
    .installation-form1 {
        flex-direction: column; /* Stack fields vertically on mobile */
        align-items: flex-start; /* Align items to start */
    }

    .installation-form1 .form-group {
        width: 100%; /* Full width on mobile */
        margin-bottom: 10px; /* Space between fields */
        display: flex;
        flex-direction: column; /* Align label and input vertically */
    }

    .installation-form1 label {
        margin-bottom: 5px; /* Space between label and input */
        width: auto; /* Allow label width to adjust */
    }

    .installation-form1 input[type="text"] {
        width: 100%; /* Full width on mobile */
        max-width: 100%; /* Ensure it doesn’t exceed 100% width */
    }
}



/* General Styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    padding-top: 54px; /* Prevent content from being hidden under the fixed navbar */
}

/* Navbar Styling */
.navbar {
    display: flex;
    width: 100%;
    height: 100px;
    align-items: center;
    background-color: #002d50; /* Main dark blue background */
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    --bs-navbar-padding-x: 0;
    --bs-navbar-padding-y: 0.0rem;
}

/* Left section with 90% width */
.navbar-item.left {
    flex: 0 0 94%;
    display: flex;
    align-items: center;
    padding-left: 15px;
}

.navbar-item.left .logo {
    width: 200px;
    margin-right: 15px;
}

.company-info {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-grow: 1;
}

.company-info img {
    margin-left: 10px;
    width: 30px;
}

/* Middle and Right sections with 5% width */
.navbar-item.middle,
.navbar-item.right {
    flex: 0 0 3%;
    height: 100%;
}

.navbar-item.middle {
    background-color: #005b66;
}

.navbar-item.right {
    background-color: #00bfa6;
}

.installation-form {
        max-width: 400px; /* Maintain a max width */
        margin: 20px; /* Adjust margin to only have space at the top and sides */
        padding: 20px;
        border-radius: 5px;
        position: relative;
        float: left; /* Aligns the form to the left */
    }

.installation-form label {
    display: block;
    margin: 10px 0 5px;
    color: #002d50;
}

.installation-form input[type="text"] {
    width: 100%;
    padding: 10px;
    border: 2px solid #00bfa6;
    border-radius: 4px;
    box-sizing: border-box;
}

/* Adjustments for Mobile View */
@media (max-width: 768px) {
    .installation-form {
        width: 90%; /* Full width on smaller screens */
        margin: 20px auto; /* Center form */
        padding: 20px;
    }
}
.company-info img {
    width: 30px; /* Set a fixed width */
    height: 30px; /* Set a fixed height */
     /* Maintain aspect ratio inside the box */
    margin: 5px; /* Add some space between images */
}
/* Center the table on the screen */
.details-table {
    margin: 0 auto; /* Center table horizontally */
    border-collapse: collapse; /* Collapse borders */
}

/* Style for the table input boxes */
.details-table input[type="text"] {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    width: 100%; /* Make input fill the cell */
    box-sizing: border-box; /* Include padding in the width */
}

/* Style for the Product Details textarea */
#symptoms {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    width: 100%; /* Make textarea fill the container */
    box-sizing: border-box; /* Include padding in the width */
}

/* Style for the Status Of System select */
#systemStatus {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    width: 100%; /* Make select fill the container */
    box-sizing: border-box; /* Include padding in the width */
}

/* Style for the For UEE and For Customer input fields */
#forUee,
#forCustomer {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    width: 100%; /* Make input fill the container */
    box-sizing: border-box; /* Include padding in the width */
}

/* Style for the button */
.button-container .btn {
    background-color: #00bfa6; /* Button color */
    color: white; /* Button text color */
    border: none; /* Remove default border */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 10px 20px; /* Add padding */
    cursor: pointer; /* Change cursor on hover */
}

/* Button hover effect */
.button-container .btn:hover {
    background-color: #009a8d; /* Darken button on hover */
}
/* Style for the installation form section */
.installation-form {
    margin: 20px auto; /* Center section on the screen */
    max-width: 600px; /* Optional: set a max width */
}

/* Style for the form group */
.form-group {
    margin-bottom: 20px; /* Space between form groups */
}

/* Style for the label */
.form-group label {
    display: block; /* Make label take full width */
    margin-bottom: 5px; /* Space between label and input */
}

/* Style for the Rep No div */
#repNo {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    background-color: #f9f9f9; /* Optional: light background color */
    width: 100%; /* Make div fill the container */
    box-sizing: border-box; /* Include padding in the width */
}

/* Style for the date input */
#num {
    border: 2px solid #00bfa6; /* Set border color */
    border-radius: 4px; /* Optional: add rounded corners */
    padding: 5px; /* Optional: add some padding */
    width: 100%; /* Make input fill the container */
    box-sizing: border-box; /* Include padding in the width */
}

    </style>
    
</head>
<body>
  
      
    <header class="navbar">
        <div class="navbar-item left">
            <img src="comapny log2.jpg" alt="Logo" class="logo">
            <div class="company-info">
                <img src="img/mms.jpg" alt="Additional Image 1">
                <img src="img/EGAC.png" alt="Additional Image 2">
                <img src="img/IAF.png" alt="Additional Image 2">
                <img src="img/NABCB.png" alt="Additional Image 2">
            </div>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    <header class="sub-navbar">
        <div class="navbar-item left">
            <a href="GeneralServiceForm1.html" style="text-decoration: none;">
                <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px;">General service Form</h3>
            </a>
            <br>
            <a href="report2.html" style="text-decoration: none;">
                <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px; margin-left: 100px;">General service report</h3>
            </a>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
      
<section class="installation-form">
    <div class="form-group">
        <label for="repNo"><strong>Rep No: </strong></label>
        <div id="repNo" class="form-control">Loading...</div>
    </div>

    <div class="form-group">
        <label for="general-service-form"><u>GENERAL SERVICE FORM</u></label>
        <input type="date" class="form-control" id="num">
    </div>
</section>

<header class="sub-navbar">
    <div class="navbar-item left">
        <h3 style="margin: 0; color: #00bfa6;">CUSTOMER DETAILS</h3>
    </div>
    <div class="navbar-item middle"></div>
    <div class="navbar-item right"></div>
</header>


<section class="installation-form1">
    <div class="form-group">
        <label for="className"><strong>Customer Name: </strong></label>
        <input type="text" id="className" placeholder="Enter your name" required>
    </div>
    <div class="form-group">
        <label for="area"><strong>Area: </strong></label>
        <input type="text" id="area" placeholder="Enter your area" required>
    </div>
</section>

<section class="installation-form1">
    <div class="form-group">
        <label for="project"><strong>Project: </strong></label>
        <input type="text" id="project" placeholder="Enter your project" required>
    </div>
    <div class="form-group">
        <label for="poNoDate"><strong>PO No./Date: </strong></label>
        <input type="text" id="poNoDate" placeholder="Enter Po No./Date" required>
    </div>
</section>

<section class="installation-form1">
    <div class="form-group">
        <label for="eqptModel"><strong>Eqpt Model: </strong></label>
        <input type="text" id="eqptModel" placeholder="Enter Equipment Model" required>
    </div>
    <div class="form-group">
        <label for="eqptSiNo"><strong>Eqpt SI.No: </strong></label>
        <input type="text" id="eqptSiNo" placeholder="Enter Equipment SI No" required>
    </div>
</section>

<section class="installation-form1">
    <div class="form-group">
        <label for="customerComplainDate"><strong>Customer Complain Date: </strong></label>
        <input type="text" id="customerComplainDate" placeholder="Enter Customer Complain Date" required>
    </div>
    <div class="form-group">
        <label for="atHmr1"><strong>AT HMR: </strong></label>
        <input type="text" id="atHmr1" placeholder="Enter AT HMR" required>
    </div>
</section>

<section class="installation-form1">
    <div class="form-group">
        <label for="customerComplainClosedDate"><strong>Customer Complain Closed Date: </strong></label>
        <input type="text" id="customerComplainClosedDate" placeholder="Enter Customer Complain Closed Date" required>
    </div>
    <div class="form-group">
        <label for="atHmr2"><strong>AT HMR: </strong></label>
        <input type="text" id="atHmr2" placeholder="Enter AT HMR" required>
    </div>
</section>

<div class="section">
    <header class="sub-navbar">
        <div class="navbar-item left">
            <h3 style="margin: 0; color: #00bfa6;">Failed Part Details</h3>
        </div>
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    <table class="details-table">
        <thead>
            <tr>
                <th>Sl No</th>
                <th>Uee Part No</th>
                <th>Description</th>
                <th>Qlt</th>
                <th>Repair/Reject/To Be Replaced</th>
            </tr>
        </thead>
        <tbody id="table-body">
            <tr>
                <td><input type="text" value="1" readonly></td>
                <td><input type="text" placeholder="Part001"></td>
                <td><input type="text" placeholder="Part Description"></td>
                <td><input type="text" placeholder="Good"></td>
                <td><input type="text" placeholder="To Be Replaced"></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="mb-3" style="padding: 40px;">
    <label for="symptoms" class="form-label"><strong>Product Details: </strong></label>
    <textarea class="form-control" id="symptoms" rows="3"></textarea>
</div>

<div class="row mb-3"style="padding: 40px;">
    <div class="col-md-6">
        <label for="systemStatus" class="form-label"><strong>Status Of System: </strong></label>
        <select class="form-select" id="systemStatus">
            <option selected>Under Warranty</option>
            <option>Out of Warranty</option>
        </select>
    </div>
</div>

<div class="row mb-3"style="padding: 40px;">
    <div class="col-md-6">
        <label for="forUee" class="form-label"><strong>For UEE: </strong></label>
        <input type="text" class="form-control" id="forUee" required>
    </div>
    <div class="col-md-6">
        <label for="forCustomer" class="form-label"><strong>For Customer: </strong></label>
        <input type="text" class="form-control" id="forCustomer" required>
    </div>
</div>

<div class="button-container text-center mb-4">
    <button class="btn btn-secondary" id="nextButton">Next</button>
</div>


    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
      // Function to get a cookie by its name
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
    return null;
}

// Function to display form data from cookies
function displayFormData() {
    document.getElementById('num').value = decodeURIComponent(getCookie('field2') || 'Not Available');
    document.getElementById('repNo').textContent = decodeURIComponent(getCookie('field1') || 'Not Available');

    document.getElementById('className').value = decodeURIComponent(getCookie('field3') || 'Not Available');
    document.getElementById('area').value = decodeURIComponent(getCookie('field4') || 'Not Available');
    document.getElementById('project').value = decodeURIComponent(getCookie('field5') || 'Not Available');
    document.getElementById('poNoDate').value = decodeURIComponent(getCookie('field6') || 'Not Available');
    document.getElementById('eqptModel').value = decodeURIComponent(getCookie('field7') || 'Not Available');
    document.getElementById('eqptSiNo').value = decodeURIComponent(getCookie('field8') || 'Not Available');
    document.getElementById('customerComplainDate').value = decodeURIComponent(getCookie('field9') || 'Not Available');
    document.getElementById('atHmr1').value = decodeURIComponent(getCookie('field10') || 'Not Available');
    document.getElementById('customerComplainClosedDate').value = decodeURIComponent(getCookie('field11') || 'Not Available');
    document.getElementById('atHmr2').value = decodeURIComponent(getCookie('field13') || 'Not Available');

    document.getElementById('symptoms').value = decodeURIComponent(getCookie('field33') || '');
    // document.getElementById('systemStatus').value = decodeURIComponent(getCookie('field13') || 'Under Warranty');
    document.getElementById('forUee').value = decodeURIComponent(getCookie('field30') || '');
    document.getElementById('forCustomer').value = decodeURIComponent(getCookie('field31') || '');
}

// Call the function to display form data when the page loads
document.addEventListener('DOMContentLoaded', displayFormData);

// Function to display part details from cookies
function displayPartDetails() {
    const tableBody = document.getElementById('table-body');
    
    // Clear existing rows
    tableBody.innerHTML = '';

    // Define field ranges for each row
    const fieldRanges = [
        { start: 14, end: 17 },
        { start: 18, end: 21 },
        { start: 22, end: 25 },
        { start: 26, end: 29 },
    ];

    fieldRanges.forEach((range, index) => {
        const partDetails = [
            decodeURIComponent(getCookie(`field${range.start}`) || ''),
            decodeURIComponent(getCookie(`field${range.start + 1}`) || ''),
            decodeURIComponent(getCookie(`field${range.start + 2}`) || ''),
            decodeURIComponent(getCookie(`field${range.end}`) || ''),
            decodeURIComponent(getCookie(`field${range.end + 1}`) || ''),
        ];

        const newRow = document.createElement('tr');
        newRow.innerHTML = `
            <td><input type="text" value="${index + 1}" readonly></td>
            <td><input type="text" value="${partDetails[0]}" placeholder="Part No"></td>
            <td><input type="text" value="${partDetails[1]}" placeholder="Description"></td>
            <td><input type="text" value="${partDetails[2]}" placeholder="Quantity"></td>
            <td><input type="text" value="${partDetails[3]}" placeholder="Repair/Reject"></td>
        `;
        tableBody.appendChild(newRow);
    });
}

// Call the function to display part details when the page loads
document.addEventListener('DOMContentLoaded', displayPartDetails);


// Function to get cookie value by name
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}

// Retrieve the token from cookies
const authToken = getCookie('token'); // Replace 'authToken' with the actual cookie name

// Retrieving values for fields from cookies
const fields = {};
for (let i = 1; i <= 42; i++) {
  fields[`field${i}`] = getCookie(`field${i}`) || ""; // Retrieve field from cookie or set as empty string
}

// Preparing the request body with cookie values
const raw = JSON.stringify({
  "profile_id": "1",
  "description": "",
  "gender": "",
  "images": "",
  "bio": "",
  ...fields, // Spread the fields object to include field1 to field40
  "field43": "",
  "field44": "",
  "field45": "",
  "field46": "",
  "field47": "",
  "field48": "",
  "field49": "",
  "field50": ""
});

const myHeaders = new Headers();
myHeaders.append("Authorization", authToken); // Use the token from cookies
myHeaders.append("Content-Type", "application/json");

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

// Correcting the URL by removing the extra "https://"
fetch("https://api2.itstrending.in/api/v1/profiles", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error('Fetch error:', error));



  // Event listener for the Next button
document.getElementById('nextButton').addEventListener('click', function() {
    // Redirect to the next page (e.g., "nextPage.html")
    window.location.href = 'report2.html'; // Change 'nextPage.html' to your desired URL
});

    </script>
    

    
</body>
</html>
