<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Matrimonial</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" >
	 <link href="fonts/css/fontawesome.min.css" rel="stylesheet" >
	<link href="fonts/css/brands.min.css" rel="stylesheet" />
     <link href="fonts/css/solid.min.css" rel="stylesheet" />
	<link href="css/global.css" rel="stylesheet">
	<link href="css/index.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>

  <style>
    .header {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      background-color: black;
      color: #ccc;
      margin-bottom: 20px;
      position: relative;
    }
    .header .back-button {
     
      position: absolute;
      left: 10px;
      font-size: 24px;
      cursor: pointer;
    }
    .header .title {
      font-size: 24px;
      font-weight: bold;
    }
    .container-wrapper {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }
    .container.mt-4 {
      width: 60%;
    }
    .filter-container {
      width: 35%;
      margin-left: 0px;
      padding: 5px;
      border: 0px solid #ccc;
      border-radius: 5px;
      background-color: #f9f9f9;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      margin-right: 20px;
    }
    .submit-button-wrapper {
      text-align: center;
      margin-top: 20px;
    }
    #submitButton {
      width: 50%;
      color: whitesmoke;
      background-color: black;
      text-align: center;
    }
    .checkbox-label {
      display: block;
      margin-bottom: 10px;
    }
    .filter-count {
      color: red;
      font-weight: bold;
      margin-left: 10px;
    }
    .filter-section {
      display: none;
    }
    .filter-section.show {
      display: block;
    }
  </style>
</head>
<body>
  <section id="top" class="bg_brown pt-2 pb-2">
    <div class="container-xl">
     <div class="row top_1">
      <div class="col-md-6">
       <div class="top_1l mt-1">
      <ul class="mb-0 font_14">
         <li class="text-white d-inline-block"><i class="fa fa-phone me-1 align-middle col_dark"></i> +91 9980835923</li>
       <li class="text-white d-inline-block ms-3"><i class="fa fa-envelope me-1 align-middle col_dark"></i> asif@gmailcom</li>
       </ul>
     </div>
      </div>
      <div class="col-md-6">
       <div class="top_1r text-end">
        <ul class="mb-0">
         <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-facebook"></i></a></li>
         <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-instagram"></i></a></li>
         <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-pinterest"></i></a></li>
         <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-linkedin"></i></a></li>
       </ul>
     </div>
      </div>
     </div>
    </div>
   </section>
   
   <section id="header">
     <nav class="navbar navbar-expand-md navbar-light p-0 pt-2 pb-2" id="navbar_sticky">
       <div class="container-xl">
       <a class="p-0 navbar-brand fw-bold me-0 family_1 col_red" href="index.html">
         <i class="fa fa-heart me-1 col_brown"></i> ISC<br>
         <span class="family_2 fw-normal font_14 col_brown">Looking for partner</span>
       </a>
       <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <div class="collapse navbar-collapse" id="navbarSupportedContent">
         <ul class="navbar-nav mb-0 ms-auto">
         <li class="nav-item">
           <a class="nav-link " aria-current="page" href="index.html">Home</a>
         </li> 
         <li class="nav-item">
           <a class="nav-link" href="about.html">About </a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="event.html">Event </a>
           </li>
           <!-- <ul  dropdown-toggle  class="dropdown-menu drop_1" aria-labelledby="navbarDropdown">
           <li><a class="dropdown-item" href="event.html"> Events</a></li>
           <li><a class="dropdown-item border-0" href="event_detail.html"> Events Detail</a></li>
           </ul> -->
         </li> 
         <li class="nav-item">
           <a class="nav-link" href="profiile.html">Register </a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="filter.html">Search </a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="contact.html">Contact </a>
         </li>
       
           <li class="nav-item">
           <a class="nav-link" href="payment.html">Payment </a>
           </li>
         <li class="nav-item">
           <a class="nav-link" href="login.html">Sign In/Sign Up </a>
         </li>
         </ul>
       </div>
       </div>
     </nav>
     </section>
  <div id="headerPlaceholder"></div>
  <div class="header">
    <div class="back-button" onclick="goBack()"> < </div>
    <div class="title">Filter Page</div>
  </div>
  <!-- http://127.0.0.1:5502/matrimonial_zip/payment.html -->

  <div class="container-wrapper">
    <div class="container mt-4">
      <div class="list-group" id="filterButtons">
        <!-- Filter Buttons -->
        <a href="#" class="list-group-item list-group-item-action" data-filter="Gender">
          Looking-for <span id="genderCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Religion">
          Cast <span id="religionCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Height">
          Height <span id="heightCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Age">
          Age <span id="ageCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="State">
          State <span id="stateCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Qualification">
          Qualification <span id="qualificationCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Job">
          Job/Business <span id="jobCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Marital">
          Marital Status <span id="maritalCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Follow">
          Follow <span id="followCount" class="filter-count">0</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-filter="Personal">
          Personal Attributes <span id="personalCount" class="filter-count">0</span>
        </a>
      </div>
      
    </div>

    <div class="filter-container">
      <div id="selectedFilters">
        <!-- Filter options will be displayed here -->
      </div>
    </div>
  </div>

  <div class="submit-button-wrapper">
    <button class="Submit" id="submitButton">
      Submit
    </button>
  </div>

  <div id="selectedFiltersDisplay" style="margin-left: 50px; color: black;"></div>



  <section id="footer" class="p_3 px_4">
    <div class="container-fluid">
      <div class="footer_m bg_light p-4">
        <div class="footer_1 row">
        <div class="col-md-3">
       <div class="footer_1i">
         <h1 class="mb-3"><a class="family_1" href="index.html"><i class="fa fa-heart me-1 col_brown"></i>  ISC <br>
   <span class="family_2 fw-normal font_14 col_brown">Lookimg for a patner </span>
   </a></h1>
   <p class="fst-italic">Connecting Hearts, Creating Futures.</p>
   <ul class="mb-0"> 
   <li><a href="#"><i class="fa fa-envelope col_brown me-1 align-middle"></i> asif@gmail.com</a></li>
   <li class="mt-3"><a href="#"><i class="fa fa-phone col_brown me-1 align-middle"></i> 91+ 9980835923</a></li>
   <li class="mt-3"><i class="fa fa-home col_brown me-1 align-middle"></i> Vidyaranapura</li>
   </ul>
       </div>
      </div>
        <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">Social media</h5>
        <ul class="mb-0">
          <li><a href="#">Facebook</a></li>
         <li class="mt-3"><a href="#">Twitter</a></li>
         <li class="mt-3"><a href="#">Pinterest</a></li>
         <li class="mt-3"><a href="#">Instagram</a></li>
        </ul>
       </div>
      </div> 
      
      <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">Get TO Know US</h5>
        <h6 class="family_2 font_14 fw-normal">ABOUT US</h6>
     
         <h6 class="family_2 font_14 fw-normal mt-3">Contact US</h6>
        
       </div>
      </div>
      <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">TELEGRAM</h5>
        <div class="footer_1i1 row mx-0">
         <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/33.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/34.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/35.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
        </div>
        <div class="footer_1i1 row mx-0">
         <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/13.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/14.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/17.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
        </div>
       </div>
      </div>
      </div><hr class="mt-4 mb-4">
      <div class="footer_2 row">
        <div class="col-md-8">
       <div class="footer_2l">
           <p class="mb-0">Â© 2013 Your Website Name. All Rights Reserved | Design by <a class="col_brown fw-bold" href="http://www.hitechdesign.in/">Hitech Design</a></p>
       </div>
      </div>
     <!-- <div class="col-md-4">
       <div class="footer_2r text-end">
          <ul class="text-uppercase font_13 mb-0">
           <li class="d-inline-block"><a href="#"> Facebook</a></li>
         <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Twitter</a></li>
          <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Pinterest</a></li>
          <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Instagram</a></li>
         </ul>
       </div>
      </div> -->
      </div>
      </div>
     </div>
    </div>
   </section>
  <script src="js/include.js"></script>
  <div id="footerPlaceholder"></div>
  
  <script src="js/matrimony/scripts.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Load saved filters and counts on page load
      loadSavedFilters();
  
      // Attach event listeners to filter buttons
      const filterButtons = document.querySelectorAll('#filterButtons a');
      filterButtons.forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault();
          const filter = button.getAttribute('data-filter');
          displayFilterOptions(filter);
        });
      });
  
      // Attach submit button event listener
      document.getElementById('submitButton').addEventListener('click', () => {
        applyFilters();
      });
    });
  
    // Function to display filter options based on the selected filter
    function displayFilterOptions(filter) {
      const selectedFilters = document.getElementById('selectedFilters');
      selectedFilters.innerHTML = ''; // Clear previous filter options
      const filterSection = document.createElement('div');
      filterSection.className = 'filter-section show';
      filterSection.id = filter + 'Buttons';
  
      let filterHtml = '';
      if (filter === 'Gender') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="male"> Male</label>
          <label class="checkbox-label"><input type="checkbox" value="female"> Female</label>
        `;
      } else if (filter === 'Religion') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="sunni"> Sunni</label>
          <label class="checkbox-label"><input type="checkbox" value="syed"> Syed</label>
          <label class="checkbox-label"><input type="checkbox" value="pathan"> Pathan</label>
          <label class="checkbox-label"><input type="checkbox" value="sheikh"> Sheikh</label>
          <label class="checkbox-label"><input type="checkbox" value="retrieved-muslims"> Retrieved Muslims</label>
          <label class="checkbox-label"><input type="checkbox" value="others"> Others</label>
        `;
      } else if (filter === 'Height') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="4-4.5"> 4 to 4.5 ft</label>
          <label class="checkbox-label"><input type="checkbox" value="4.5-5"> 4.5 to 5 ft</label>
          <label class="checkbox-label"><input type="checkbox" value="5-5.5"> 5 to 5.5 ft</label>
          <label class="checkbox-label"><input type="checkbox" value="5.5-6"> 5.5 to 6 ft</label>
          <label class="checkbox-label"><input type="checkbox" value="6-6.5"> 6 to 6.5 ft</label>
        `;
      } else if (filter === 'Age') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="18-25"> 18-25</label>
          <label class="checkbox-label"><input type="checkbox" value="26-35"> 26-35</label>
          <label class="checkbox-label"><input type="checkbox" value="36-45"> 36-45</label>
          <label class="checkbox-label"><input type="checkbox" value="46-60"> 46-60</label>
        `;
      } else if (filter === 'State') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="Andhra Pradesh"> Andhra Pradesh</label>
          <label class="checkbox-label"><input type="checkbox" value="Arunachal Pradesh"> Arunachal Pradesh</label>
          <label class="checkbox-label"><input type="checkbox" value="Assam"> Assam</label>
          <label class="checkbox-label"><input type="checkbox" value="Bihar"> Bihar</label>
          <label class="checkbox-label"><input type="checkbox" value="Chhattisgarh"> Chhattisgarh</label>
          <label class="checkbox-label"><input type="checkbox" value="Goa"> Goa</label>
          <label class="checkbox-label"><input type="checkbox" value="Gujarat"> Gujarat</label>
          <label class="checkbox-label"><input type="checkbox" value="Haryana"> Haryana</label>
          <label class="checkbox-label"><input type="checkbox" value="Himachal Pradesh"> Himachal Pradesh</label>
          <label class="checkbox-label"><input type="checkbox" value="Jharkhand"> Jharkhand</label>
          <label class="checkbox-label"><input type="checkbox" value="Karnataka"> Karnataka</label>
          <label class="checkbox-label"><input type="checkbox" value="Kerala"> Kerala</label>
          <label class="checkbox-label"><input type="checkbox" value="Madhya Pradesh"> Madhya Pradesh</label>
          <label class="checkbox-label"><input type="checkbox" value="Maharashtra"> Maharashtra</label>
          <label class="checkbox-label"><input type="checkbox" value="Manipur"> Manipur</label>
          <label class="checkbox-label"><input type="checkbox" value="Meghalaya"> Meghalaya</label>
          <label class="checkbox-label"><input type="checkbox" value="Mizoram"> Mizoram</label>
          <label class="checkbox-label"><input type="checkbox" value="Nagaland"> Nagaland</label>
          <label class="checkbox-label"><input type="checkbox" value="Odisha"> Odisha</label>
          <label class="checkbox-label"><input type="checkbox" value="Punjab"> Punjab</label>
          <label class="checkbox-label"><input type="checkbox" value="Rajasthan"> Rajasthan</label>
          <label class="checkbox-label"><input type="checkbox" value="Sikkim"> Sikkim</label>
          <label class="checkbox-label"><input type="checkbox" value="Tamil Nadu"> Tamil Nadu</label>
          <label class="checkbox-label"><input type="checkbox" value="Telangana"> Telangana</label>
          <label class="checkbox-label"><input type="checkbox" value="Tripura"> Tripura</label>
          <label class="checkbox-label"><input type="checkbox" value="Uttar Pradesh"> Uttar Pradesh</label>
          <label class="checkbox-label"><input type="checkbox" value="Uttarakhand"> Uttarakhand</label>
          <label class="checkbox-label"><input type="checkbox" value="West Bengal"> West Bengal</label>
        `;
      } else if (filter === 'Qualification') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="B.E"> B.E</label>
          <label class="checkbox-label"><input type="checkbox" value="B.Tech"> B.Tech</label>
          <label class="checkbox-label"><input type="checkbox" value="MBBS"> MBBS</label>
          <label class="checkbox-label"><input type="checkbox" value="MBA"> MBA</label>
          <label class="checkbox-label"><input type="checkbox" value="BCA"> BCA</label>
          <label class="checkbox-label"><input type="checkbox" value="B.Com"> B.Com</label>
          <label class="checkbox-label"><input type="checkbox" value="Ph.D"> Ph.D</label>
          <label class="checkbox-label"><input type="checkbox" value="MCA"> MCA</label>
          <label class="checkbox-label"><input type="checkbox" value="M.Com"> M.Com</label>
        `;
      } else if (filter === 'Job') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="Engineer"> Engineer</label>
          <label class="checkbox-label"><input type="checkbox" value="Doctor"> Doctor</label>
          <label class="checkbox-label"><input type="checkbox" value="Teacher"> Teacher</label>
          <label class="checkbox-label"><input type="checkbox" value="Lawyer"> Lawyer</label>
          <label class="checkbox-label"><input type="checkbox" value="Business"> Business</label>
          <label class="checkbox-label"><input type="checkbox" value="Artist"> Artist</label>
          <label class="checkbox-label"><input type="checkbox" value="Others"> Others</label>
        `;
      } else if (filter === 'Marital') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="Single"> Single</label>
          <label class="checkbox-label"><input type="checkbox" value="Married"> Married</label>
          <label class="checkbox-label"><input type="checkbox" value="Divorced"> Divorced</label>
          <label class="checkbox-label"><input type="checkbox" value="Widowed"> Widowed</label>
        `;
      } else if (filter === 'Follow') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="Yes"> Yes</label>
          <label class="checkbox-label"><input type="checkbox" value="No"> No</label>
        `;
      } else if (filter === 'Personal') {
        filterHtml = `
          <label class="checkbox-label"><input type="checkbox" value="Active"> Active</label>
          <label class="checkbox-label"><input type="checkbox" value="Passive"> Passive</label>
        `;
      }
  
      filterSection.innerHTML = filterHtml;
      selectedFilters.appendChild(filterSection);
  
      // Attach change event listeners to checkboxes
      filterSection.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', () => {
          updateFilterCount(filter);
        });
      });
  
      // Load saved filter options
      loadSavedFilterOptions(filter);
    }
  
    // Function to update the count of selected options for a specific filter
    function updateFilterCount(filter) {
      const checkboxes = document.querySelectorAll(`#${filter}Buttons input[type="checkbox"]`);
      const count = Array.from(checkboxes).filter(checkbox => checkbox.checked).length;
      document.getElementById(`${filter.toLowerCase()}Count`).innerText = count;
  
      // Save the filter options to local storage
      saveFilterOptions(filter);
  
      // Update the selected gender if the Gender filter is updated
      if (filter === 'Gender') {
        selectedGender = Array.from(checkboxes).filter(checkbox => checkbox.checked).map(checkbox => checkbox.value).join(', ');
      }
    }
  
    // Function to save filter options to local storage
    function saveFilterOptions(filter) {
      const checkboxes = document.querySelectorAll(`#${filter}Buttons input[type="checkbox"]`);
      const selectedValues = Array.from(checkboxes)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value);
      localStorage.setItem(filter, JSON.stringify(selectedValues));
    }
  
    // Function to load saved filter options
    function loadSavedFilterOptions(filter) {
      const savedOptions = JSON.parse(localStorage.getItem(filter)) || [];
      document.querySelectorAll(`#${filter}Buttons input[type="checkbox"]`).forEach(checkbox => {
        checkbox.checked = savedOptions.includes(checkbox.value);
      });
      updateFilterCount(filter); // Update the count based on saved options
    }
  
    // Function to load saved filters and counts
    function loadSavedFilters() {
      ['Gender', 'Religion', 'Height', 'Age', 'State', 'Qualification', 'Job', 'Marital', 'Follow', 'Personal'].forEach(filter => {
        loadSavedFilterOptions(filter);
        updateFilterCount(filter);
      });
    }
  
    // Function to get token from cookies
    function getTokenFromCookies() {
      const name = 'token=';
      const decodedCookie = decodeURIComponent(document.cookie);
      const ca = decodedCookie.split(';');
      for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) === 0) {
          return c.substring(name.length, c.length);
        }
      }
      return '';
    }
  
    // Get the token from cookies
    const authToken = getTokenFromCookies();
  
    // Function to apply filters and fetch data from the API
  // Function to apply filters and fetch data from the API
function applyFilters() {
  fetch('https://api.itstrending.in:5001/api/v1/profiles/search_multiple', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': authToken
    },
    body: JSON.stringify({
      gender: selectedGender // Use the selected gender value
    })
  })
  .then(response => response.json())
  .then(data => {
    console.log(data);
    // Store the fetched data in session storage
    sessionStorage.setItem('profileData', JSON.stringify(data.data));
    
    // Redirect to the next page
    window.location.href = 'profileSearch.html';
  })
  .catch((error) => {
    console.error('Error:', error);
  });
}

// Store the fetched data in session storage
sessionStorage.setItem('profileData', JSON.stringify(data.data));
console.log('Data stored in sessionStorage:', data.data); // Debug log


const express = require('express');
const app = express();

// CORS middleware
app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', '*'); // Replace * with your domain if possible
  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');
  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
  next();
});

// Other middleware
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// Define your API endpoints here
app.get('/api/v1/profiles/get_profile_details', (req, res) => {
  // Your logic for GET request
  res.json({ message: 'GET profile details endpoint' });
});

app.post('/api/v1/profiles/search_multiple', (req, res) => {
  // Your logic for POST request
  res.json({ message: 'POST search multiple profiles endpoint' });
});

// Start the server
const PORT = process.env.PORT || 5000;
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`);
});

  </script>
  

</body>
</html>





