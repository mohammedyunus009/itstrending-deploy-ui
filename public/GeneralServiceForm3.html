<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Status Checklist</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
</head>
<style>
      
/* General Styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    padding-top: 100px; /* Prevent content from being hidden under the fixed navbar */
}

/* Navbar Styling */
.navbar {
    display: flex;
    width: 100%;
    height: 100px;
    align-items: center;
    background-color: #002d50; /* Main dark blue background */
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    --bs-navbar-padding-x: 0;
    --bs-navbar-padding-y: 0.0rem;
}

/* Left section with 90% width */
.navbar-item.left {
    flex: 0 0 94%;
    display: flex;
    align-items: center;
    padding-left: 15px;
}

.navbar-item.left .logo {
    width: 200px;
    margin-right: 15px;
}

.company-info {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    flex-grow: 1;
}

.company-info img {
    margin-left: 10px;
    width: 30px;
}

/* Middle and Right sections with 5% width */
.navbar-item.middle,
.navbar-item.right {
    flex: 0 0 3%;
    height: 100%;
}

.navbar-item.middle {
    background-color: #005b66;
}

.navbar-item.right {
    background-color: #00bfa6;
}
/* Sub-header Styling */
.sub-navbar {
    display: flex;
    width: 100%;
    height: 60px;
    align-items: center;
    background-color: #002d50;
    border-bottom: 2px solid #00bfa6;
    position: relative;
    z-index: 999;
}

.sub-navbar .navbar-item.left {
    flex: 0 0 94%;
    display: flex;
    align-items: center;
    padding-left: 15px;
}

    input {
        border: 1px solid red;
        /* Light black border */
        border-radius: 4px;
        /* Optional: for rounded corners */
        padding: 5px;
        /* Optional: to add some padding inside the input */
    }

   

    /* headr */
    @media (max-width: 600px) {
        .table {
            width: 100%;
        }
    }
    /* General Card Styling */
.card {
    border: 1px solid black; /* Dark border to match the card */
    border-radius: 5px; /* Rounded corners */
    margin-bottom: 20px; /* Add space below the card */
}

.card-body {
    padding: 15px; /* Padding inside the card */
    border: 2px solid #00bfa6; /* Dark border to match the card */

}

/* Form Group Styling */
.form-group {
    margin-bottom: 20px; /* Space between form groups */
}

/* Form Label Styling */
.form-control.border-black {
    color: black; /* Match the label color to the card */
    font-weight: bold; /* Make the text bold */
    border: 2px solid #00bfa6; /* Add a black border around inputs */
    border-radius:px; /* Rounded input edges */
    padding: 10px; /* Padding inside the input box */
}

/* Input Field Styling */
input.form-control {
    width: 100%; /* Full width input */
    padding: 8px 10px; /* Internal padding for input fields */
    border: 2px solid #000; /* Add a black border */
    border-radius: 5px; /* Rounded input edges */
    box-sizing: border-box; /* Ensure padding doesn't affect total width */
}

/* Card Header Styling */
.card-header {
    background-color: #f8f9fa; /* Light background for the header */
    font-weight: bold;
    text-align: center;
    padding: 10px 0;
}

/* Button Styling */
.submit-button {
    background-color: #00bfa6;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 20px;
    display: block;
    width: 100%; /* Full width button */
    border-radius: 5px; /* Rounded corners */
    transition: background-color 0.3s ease; /* Smooth transition on hover */
}

.submit-button:hover {
    background-color: #008f7e; /* Darker shade on hover */
}

/* Responsive Design */
@media (max-width: 768px) {
    .form-group {
        margin-bottom: 15px; /* Less space between form groups on mobile */
    }

    input.form-control {
        padding: 6px 8px; /* Reduce padding on mobile */
    }

    .submit-button {
        font-size: 14px; /* Slightly smaller button text on mobile */
    }
}

.h3, h3 {
    font-size: 1.17rem;
}

</style>

<body>
    <header class="navbar">
        <div class="navbar-item left">
            <img src="comapny log2.jpg" alt="Logo" class="logo">
            <div class="company-info">
                <img src="img/mms.jpg" alt="Additional Image 1">
                <img src="img/EGAC.png" alt="Additional Image 2">
                <img src="img/IAF.png" alt="Additional Image 3">
                <img src="img/NABCB.png" alt="Additional Image 4">
            </div>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
  <!-- New Sub-header resembling the Navbar -->
  <header class="sub-navbar">
    <div class="navbar-item left">
        <a href="installationform1.html" style="text-decoration: none;">
            <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px;">Installation form </h3>
        </a>
        <br>
        <a href="installationreport.html" style="text-decoration: none;">
            <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px; margin-left: 100px;">Installation report</h3>
        </a>
    </div>
    
    <div class="navbar-item middle"></div>
    <div class="navbar-item right"></div>
</header>
 <!-- New Sub-header resembling the Navbar -->
 <header class="sub-navbar">
    <div class="navbar-item left">
        <h3 style="margin: 0; color:#00bfa6 ;">Failed Parts Details</h3>
    </div>
    
    <div class="navbar-item middle"></div>
    <div class="navbar-item right"></div>
</header>




            <div class="card border-dark">
                
                <div class="card-body" id="inputContainer">
                    <div class="form-group">
                        <label class="form-control border-black">Uee Part No</label>
                        <input type="text" class="form-control border-black partNo" data-set="0">
                    </div>
                    <div class="form-group mt-3">
                        <label class="form-control border-black">Description</label>
                        <input type="text" class="form-control border-black description" data-set="0">
                    </div>
                    <div class="form-group mt-3">
                        <label class="form-control border-black">Qty</label>
                        <input type="text" class="form-control border-black qty" data-set="0">
                    </div>
                    <div class="form-group mt-3">
                        <label class="form-control border-black">Repair/Reject/To Be Replaced</label>
                        <input type="text" class="form-control border-black lastInput repairStatus" data-set="0">
                    </div>
                </div>
            </div>
       
    </section>

    <br>

    <section>
        <div class="text-center mt-3">
            <button type="button" class="btn btn-primary" onclick="redirectToNextPage()">
                Next<br>
            </button>
        </div>
    </section>

    <script>
        let inputSetCounter = 1; // Counter for tracking the number of input sets

        document.addEventListener('DOMContentLoaded', function () {
            // Initially store data in cookies
            storeInputDataInCookies();

            // Add event listeners for existing inputs to store data in cookies on change
            document.querySelectorAll('.form-control').forEach(function (input) {
                input.addEventListener('input', storeInputDataInCookies);
            });

            document.getElementById('inputContainer').addEventListener('keypress', function (event) {
                if (event.target && event.target.classList.contains('lastInput') && event.key === 'Enter') {
                    event.preventDefault(); // Prevent form submission
                    addInputFields();
                }
            });
        });

        function storeInputDataInCookies() {
    // Map to define the starting field numbers for each setId
    const fieldMap = {
        0: 14,
        1: 18,
        2: 22,
        3: 26
    };

    // Iterate over each form group and store the data in cookies with the specified field names
    document.querySelectorAll('.form-group').forEach(function (formGroup) {
        const setId = formGroup.querySelector('input').dataset.set; // Get the data-set attribute

        // Determine the field numbers based on the setId
        const startField = fieldMap[setId];

        const partNo = document.querySelector(`.partNo[data-set="${setId}"]`).value || '';
        const description = document.querySelector(`.description[data-set="${setId}"]`).value || '';
        const qty = document.querySelector(`.qty[data-set="${setId}"]`).value || '';
        const repairStatus = document.querySelector(`.repairStatus[data-set="${setId}"]`).value || '';

        // Store data in cookies with custom field names
        document.cookie = `field${startField}=${partNo}; path=/;`;
        document.cookie = `field${startField + 1}=${description}; path=/;`;
        document.cookie = `field${startField + 2}=${qty}; path=/;`;
        document.cookie = `field${startField + 3}=${repairStatus}; path=/;`;
    });
}


        function addInputFields() {
            const container = document.getElementById('inputContainer');

            const newFields = `
                <div class="form-group mt-3">
                    <label class="form-control">Uee Part No</label>
                    <input type="text" class="form-control border-black partNo" data-set="${inputSetCounter}">
                </div>
                <div class="form-group mt-3">
                    <label class="form-control">Description</label>
                    <input type="text" class="form-control border-black description" data-set="${inputSetCounter}">
                </div>
                <div class="form-group mt-3">
                    <label class="form-control">Qty</label>
                    <input type="text" class="form-control border-black qty" data-set="${inputSetCounter}">
                </div>
                <div class="form-group mt-3">
                    <label class="form-control">Repair/Reject/To Be Replaced</label>
                    <input type="text" class="form-control border-black lastInput repairStatus" data-set="${inputSetCounter}">
                </div>
            `;

            container.insertAdjacentHTML('beforeend', newFields);

            // Attach event listeners to the new inputs
            attachInputListeners(inputSetCounter);

            // Increment the set counter for the next batch of inputs
            inputSetCounter++;

            // Store data for new inputs as well
            storeInputDataInCookies();
        }

        function attachInputListeners(setId) {
            // Attach event listeners to the newly created inputs
            document.querySelectorAll(`input[data-set="${setId}"]`).forEach(function (input) {
                input.addEventListener('input', storeInputDataInCookies);
            });
        }

        function redirectToNextPage() {
            window.location.href = "GeneralServiceForm4.html";
        }

        // Helper function to retrieve cookies (optional for further use)
        function getCookie(name) {
            let matches = document.cookie.match(new RegExp(
                "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
            ));
            return matches ? decodeURIComponent(matches[1]) : undefined;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
    </script>
</body>

</html>