<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="css/i.css" rel="stylesheet">

<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
    /* Container styles */
.container {
    max-width: 1000px; /* Increased width for larger screens */
    margin: 0 auto;
    padding: 20px;
    /* background-color: #f9f9f9; */
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

/* Section styles */
.section {
    margin-bottom: 30px;
}

/* Heading styles */
h2 {
    font-size: 1.5em;
    color: #333;
    border-bottom: 2px solid #00bfa6;
    padding-bottom: 5px;
    margin-bottom: 15px;
}

/* Content styles */
.content {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

/* Label box styles */
.label-box {
    flex: 1;
    padding: 10px;
    background-color: white;
    border-radius: 5px;
    font-weight: bold;
}

/* Empty box styles */
.empty-box {
    width: 40px;
    height: 40px;
    background-color: white;
    border: 1px dashed #00bfa6;
    border-radius: 5px;
    margin-left: 10px;
}

/* General styles for all form controls */
.form-control {
    padding: 10px; /* Padding for textbox */
    border: 2px solid #00bfa6; /* Change border color to match theme */
    border-radius: 5px; /* Border radius */
    background-color: #fff; /* Background color */
    font-size: 1em; /* Font size */
}

/* Small textbox styles */
.small-textbox {
    width: 150px; /* Set a specific width for the smaller textbox */
    padding: 5px; /* Adjust padding for a smaller look */
    font-size: 0.9em; /* Slightly smaller font size */
}

/* Additional information input styles */
.form-group .form-control {
    width: 100%; /* Full width for additional information inputs */
    font-size: 1em; /* Standard font size */
}


/* Form group styles */
.form-group {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

/* Label styles */
.form-label {
    margin-bottom: 0;
}

/* Responsive styles */
@media (max-width: 600px) {
    .content {
        flex-direction: column;
        align-items: flex-start;
    }

    /* Move empty-box in front of label in mobile view */
    .label-box {
        order: 2; /* Move the label box after the empty box */
        margin-bottom: 5px; /* Add space below the label */
    }

    .empty-box {
        order: 1; /* Move the empty box to the front */
        margin-left: 0; /* Reset margin for mobile */
        margin-top: 5px; /* Add margin to the top for spacing */
    }

    /* Adjust textbox styles for mobile view */
    .form-control {
        padding: 8px; /* Slightly reduce padding for mobile */
        font-size: 0.9em; /* Adjust font size for better visibility */
        border-radius: 5px; /* Maintain border radius */
    }

    /* Add a full width to form control in mobile */
    .form-group {
        flex-direction: column; /* Stack label and input vertically */
    }

    .form-label {
        margin-bottom: 5px; /* Add space between label and input */
    }
}
#qrcode {
    margin-left: 0; /* or any other default value */
  }

  /* Mobile view styling */
  @media (max-width: 767px) { /* You can adjust the max-width value as needed */
    #qrcode {
      margin-left: 15px; /* Adjust the margin as needed */
    }
  }


    </style>
  
</head>
<body>
    <header class="navbar">
        <div class="navbar-item left">
            <img src="comapny log2.jpg" alt="Logo" class="logo">
            <div class="company-info">
                <img src="img/mms.jpg" alt="Additional Image 1">
                <img src="img/EGAC.png" alt="Additional Image 2">
                <img src="img/IAF.png" alt="Additional Image 2">
                <img src="img/NABCB.png" alt="Additional Image 2">
            </div>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    <!-- New Sub-header resembling the Navbar -->
    <header class="sub-navbar">
        <div class="navbar-item left">
            <a href="GeneralServiceForm1.html" style="text-decoration: none;">
                <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px;">General service Form</h3>
            </a>
            <br>
            <a href="report2.html" style="text-decoration: none;">
                <h3 style="margin: 0; color: #00bfa6; margin-bottom: 10px; margin-left: 100px;">General service report</h3>
            </a>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    <div class="installation-form">
        <label for="serial-number"><strong>Serial Number: </strong></label>
        <input type="text" id="serial-number" name="serial-number" placeholder="Enter Serial Number" required>
    </div>
    
    <header class="sub-navbar">
        <div class="navbar-item left">
            <h3 style="margin: 0; color:#00bfa6;">INSTALLATION Preview</h3>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="customer-details"><strong>Customer Details: </strong></label>
            <input type="text" id="customer-details" name="customer-details" placeholder="Enter Customer Details" required>
        </div>
    
        <div class="form-group project-field">
            <label for="project"><strong>Project: </strong></label>
            <input type="text" id="project" name="project" placeholder="Enter Project Name" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="pno"><strong>PNO Number: </strong></label>
            <input type="text" id="pno" name="pno" placeholder="Enter PNO Number" required>
        </div>
    
        <div class="form-group">
            <label for="ponumber-date"><strong>PO Date: </strong></label>
            <input type="text" id="ponumber-date" name="ponumber-date" placeholder="DD/MM/YYYY" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="invoice-number"><strong>Invoice Number: </strong></label>
            <input type="text" id="invoice-number" name="invoice-number" placeholder="Enter Invoice Number" required>
        </div>
    
        <div class="form-group">
            <label for="invoice-date"><strong>Invoice Date: </strong></label>
            <input type="text" id="invoice-date" name="invoice-date" placeholder="DD/MM/YYYY" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="vehicle-model"><strong>Vehicle Model: </strong></label>
            <input type="text" id="vehicle-model" name="vehicle-model" placeholder="Enter Vehicle Model" required>
        </div>
    
        <div class="form-group">
            <label for="vehicle-sl-no"><strong>Vehicle Sl No: </strong></label>
            <input type="text" id="vehicle-sl-no" name="vehicle-sl-no" placeholder="Enter Vehicle Serial Number" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="equipment-type"><strong>Type of Equipment: </strong></label>
            <input type="text" id="equipment-type" name="equipment-type" placeholder="Enter Type of Equipment" required>
        </div>
    
        <div class="form-group">
            <label for="equipment-sl-no"><strong>Equipment Sl No: </strong></label>
            <input type="text" id="equipment-sl-no" name="equipment-sl-no" placeholder="Enter Equipment Serial Number" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <div class="form-group">
            <label for="installation-hrm"><strong>Installation HRM: </strong></label>
            <input type="text" id="installation-hrm" name="installation-hrm" placeholder="Enter Installation HRM" required>
        </div>
    
        <div class="form-group">
            <label for="failure-hmr"><strong>Failure HMR: </strong></label>
            <input type="text" id="failure-hmr" name="failure-hmr" placeholder="Enter Failure HMR" required>
        </div>
    </div>
    



<div class="container">
   

    <div class="section">
        <h2>1. Welding of MS Parts</h2>
        <div class="content">
            <div class="label-box">
                <label>DCP Cylinder Mounting Bracket - 50/20</label>
            </div>
            <div class="empty-box" id="dcpCylinderMountingBracket"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Distributor Pad</label>
            </div>
            <div class="empty-box" id="distributorPad"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Nozzle Bracket</label>
            </div>
            <div class="empty-box" id="nozzleBracket"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Automatic Actuator Bracket Pad</label>
            </div>
            <div class="empty-box" id="automaticActuatorBracketPad"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Manual Actuator Bracket Pad</label>
            </div>
            <div class="empty-box" id="manualActuatorBracketPad"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Control Unit Pad</label>
            </div>
            <div class="empty-box" id="controlUnitPad"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Sensor Wire Routing Bosses 8MM</label>
            </div>
            <div class="empty-box" id="sensorWireRoutingBosses"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Fitment of DCP Cylinder - 50/25</label>
            </div>
            <div class="empty-box" id="fitmentOfDcpCylinder"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>2. Fitment of all Nozzles</h2>
        <div class="content">
            <div class="label-box">
                <label>Fitment of Nozzles along with protective caps</label>
            </div>
            <div class="empty-box" id="fitmentOfNozzlesProtectiveCaps"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>3. Fitment of Nitrogen Cartridge</h2>
        <div class="content">
            <div class="label-box">
                <label>Fitment of Nitrogen Cartridge along with protective caps</label>
            </div>
            <div class="empty-box" id="fitmentOfNitrogenCartridgeProtectiveCaps"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Nitrogen Cartridge inside the cabin</label>
            </div>
            <div class="empty-box" id="nitrogenCartridgeInsideCabin"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>4. Fitment of all Hoses</h2>
        <div class="content">
            <div class="label-box">
                <label>3/4"R2, 1/2"R2, 1/4"R2 Hose</label>
            </div>
            <div class="empty-box" id="hoseDetails"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>5. Electrical Connections</h2>
        <div class="content">
            <div class="label-box">
                <label>Sensor Wire Routing</label>
            </div>
            <div class="empty-box" id="sensorWireRouting"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Control Unit Connections Sensor</label>
            </div>
            <div class="empty-box" id="controlUnitConnectionsSensor"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Wire Adaptor Battery Connections</label>
            </div>
            <div class="empty-box" id="wireAdaptorBatteryConnections"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Control Unit Start</label>
            </div>
            <div class="empty-box" id="controlUnitStart"></div>
        </div>
        <div class="content">
            <div class="label-box">
                <label>Power OK LED</label>
            </div>
            <div class="empty-box" id="powerOkLed"></div>
        </div>
    </div>
    
    <div class="section">
        <h2>6. Product Details</h2>
        <div class="content">
            <label for="product-details"><strong>Product Details: </strong></label>
            <br>
            <input type="text" id="product-details" name="product-details" class="form-control" placeholder="Enter Product Details" required>
        </div>
    </div>
    
    
    <div class="section">
        <h2>7. Additional Information</h2>
        <div class="form-group row">
            <label for="forUee" class="col-sm-6 col-form-label form-label">For UEE:</label>
            <div class="col-sm-6">
                <input type="text" class="form-control" id="forUee" readonly>
            </div>
        </div>
        <div class="form-group row">
            <label for="forCustomer" class="col-sm-6 col-form-label form-label">For Customer:</label>
            <div class="col-sm-6">
                <input type="text" class="form-control" id="forCustomer" readonly>
            </div>
        </div>
    </div>
    <div id="qrcode"></div>
    
     <!-- Next Button -->
     <button class="next-button" onclick="handleNext()">Next</button>

     <script>
         function handleNext() {
             // Add logic to handle the next step
            //  alert('Next button clicked!'); // Placeholder for functionality
             // You can redirect to another page or perform any other action
             window.location.href = 'installationreport.html';
         }
     </script>
    
<script>
// Function to read a cookie by name
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
}

// Populate fields with cookie values
window.onload = function() {
    // Existing fields from 1 to 11
    document.getElementById('serial-number').value = getCookie('field1') || '';
    document.getElementById('customer-details').value = getCookie('field2') || '';
    document.getElementById('project').value = getCookie('field3') || '';
    document.getElementById('pno').value = getCookie('field4') || '';
    document.getElementById('ponumber-date').value = getCookie('field4') || ''; // Assuming this should also be field4
    document.getElementById('invoice-number').value = getCookie('field5') || '';
    document.getElementById('invoice-date').value = getCookie('field5') || ''; // Assuming this should also be field5
    document.getElementById('vehicle-model').value = getCookie('field6') || '';
    document.getElementById('vehicle-sl-no').value = getCookie('field7') || '';
    document.getElementById('equipment-type').value = getCookie('field8') || '';
    document.getElementById('equipment-sl-no').value = getCookie('field9') || '';
    document.getElementById('installation-hrm').value = getCookie('field10') || '';
    document.getElementById('failure-hmr').value = getCookie('field11') || '';

    // Fields from 13 to 29
    document.getElementById('dcpCylinderMountingBracket').textContent = getCookie('field13') || '';
    document.getElementById('distributorPad').textContent = getCookie('field14') || '';
    document.getElementById('nozzleBracket').textContent = getCookie('field15') || '';
    document.getElementById('automaticActuatorBracketPad').textContent = getCookie('field16') || '';
    document.getElementById('manualActuatorBracketPad').textContent = getCookie('field17') || '';
    document.getElementById('controlUnitPad').textContent = getCookie('field18') || '';
    document.getElementById('sensorWireRoutingBosses').textContent = getCookie('field19') || '';
    document.getElementById('fitmentOfDcpCylinder').textContent = getCookie('field20') || '';
    document.getElementById('fitmentOfNozzlesProtectiveCaps').textContent = getCookie('field21') || '';
    document.getElementById('fitmentOfNitrogenCartridgeProtectiveCaps').textContent = getCookie('field22') || '';
    document.getElementById('nitrogenCartridgeInsideCabin').textContent = getCookie('field23') || '';
    document.getElementById('hoseDetails').textContent = getCookie('field24') || '';
    document.getElementById('sensorWireRouting').textContent = getCookie('field25') || '';
    document.getElementById('controlUnitConnectionsSensor').textContent = getCookie('field26') || '';
    document.getElementById('wireAdaptorBatteryConnections').textContent = getCookie('field27') || '';
    document.getElementById('controlUnitStart').textContent = getCookie('field28') || '';
    document.getElementById('powerOkLed').textContent = getCookie('field27') || '';

    // New fields for product details and additional information
    document.getElementById('product-details').value = getCookie('field29') || ''; // Assuming field30 for product details
    document.getElementById('forUee').value = getCookie('field30') || ''; // Assuming field31 for UEE
    document.getElementById('forCustomer').value = getCookie('field31') || ''; // Assuming field32 for Customer
};



// Function to get cookie value by name
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}

// Retrieve the token from cookies
const authToken = getCookie('token'); // Replace 'authToken' with the actual cookie name

// Retrieving values for fields from cookies
const fields = {};
for (let i = 1; i <= 42; i++) {
  fields[`field${i}`] = getCookie(`field${i}`) || ""; // Retrieve field from cookie or set as empty string
}

// Preparing the request body with cookie values
const raw = JSON.stringify({
  "profile_id": "1",
  "description": "",
  "gender": "",
  "images": "",
  "bio": "",
  ...fields, // Spread the fields object to include field1 to field40
  "field43": "",
  "field44": "",
  "field45": "",
  "field46": "",
  "field47": "",
  "field48": "",
  "field49": "",
  "field50": ""
});

const myHeaders = new Headers();
myHeaders.append("Authorization", authToken); // Use the token from cookies
myHeaders.append("Content-Type", "application/json");

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

// Correcting the URL by removing the extra "https://"
fetch("https://api2.itstrending.in/api/v1/profiles", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error('Fetch error:', error));





  function getCookie(name) {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        if (parts.length == 2) return parts.pop().split(";").shift();
        return '';
    }


    function getCookie(name) {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        if (parts.length == 2) return parts.pop().split(";").shift();
        return '';
    }

// Function to set a cookie
function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
      const expires = "expires=" + d.toUTCString();
      document.cookie = name + "=" + value + ";" + expires + ";path=/";
    }

    // Function to get a cookie value by name
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    // Generate unique ID (you can use a more complex method for production)
    function generateUniqueID() {
      return 'id-' + Math.random().toString(36).substr(2, 9);
    }

    // Generate a URL with the profile page and unique ID as a parameter
    function generateQRCodeURL(uniqueID) {
      return `https://universal.itstrending.in/profile.html`;
    }

    // Generate the unique ID
    const uniqueID = generateUniqueID();
    // Generate the URL with the unique ID
    const qrCodeURL = generateQRCodeURL(uniqueID);

    // Generate the QR code with the URL
    new QRCode(document.getElementById("qrcode"), qrCodeURL);

    // Store the unique ID in cookies for 7 days
    setCookie("field3", uniqueID, 7);

    console.log("QR Code URL stored in cookies:", qrCodeURL);
</script>
    

</body>
</html>
