<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="css/matrimony/prview.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <style>
        .profile-container {
            padding: 20px;
            box-sizing: border-box;
        }
        
        @media (min-width: 768px) {
            .profile-container {
                width: 60%;
                margin: 0 auto;
                border: 1px solid #ccc;
                padding: 20px;
                box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
                border-radius: 10px;
            }
        }


    </style>
</head>
<body>
    <!-- <div id="headerPlaceholder"></div> -->

    <div class="header">
        <div class="back-button" onclick="goBack()"> < </div>
        <div class="title">Profile</div>
    </div>

    <div class="profile-container">
<div id="profilePhoto" class="resizeable">
    <button id="prevButton" class="navButton">◀</button>
    <button id="nextButton" class="navButton">▶</button>
</div>

        <div class="profile-details">
            <h2>Marriage Profile</h2>
            <div class="detail-item">
                <label>Name:</label>
                <span id="name"></span>
            </div>
            <div class="detail-item">
                <label>Date of Birth:</label>
                <span id="dob"></span>
            </div>
            <div class="detail-item">
                <label>Gender:</label>
                <span id="gender"></span>
            </div>
            <div class="detail-item">
                <label>Caste:</label>
                <span id="caste"></span>
            </div>
            <div class="detail-item">
                <label>Follow:</label>
                <span id="follow"></span>
            </div>
            <div class="detail-item">
                <label>Phone Number:</label>
                <span id="phoneNumber"></span>
            </div>
            <div class="detail-item">
                <label>Native Language:</label>
                <span id="nativeLanguage"></span>
            </div>
            <div class="detail-item">
                <label>Residence Language:</label>
                <span id="residenceLanguage"></span>
            </div>
            <div class="detail-item">
                <label>Hobbies:</label>
                <span id="Hobbies"></span>
            </div>
            <div class="detail-item">
                <label>Country:</label>
                <span id="country"></span>
            </div>
            <div class="detail-item">
                <label>State:</label>
                <span id="state"></span>
            </div>
            <div class="detail-item">
                <label>City:</label>
                <span id="city"></span>
            </div>
            <div class="detail-item">
                <label>Address:</label>
                <span id="address"></span>
            </div>
            <div class="detail-item">
                <label>Marital Status:</label>
                <span id="maritalStatus"></span>
            </div>
            <div class="detail-item" id="childrenDetail" style="display: none;">
                <label>Children:</label>
                <span id="children"></span>
            </div>
            <div class="detail-item">
                <label>Height:</label>
                <span id="height"></span>
            </div>
            <div class="detail-item">
                <label>Weight:</label>
                <span id="weight"></span>
            </div>
            <div class="detail-item">
                <label>About Me:</label>
                <span id="aboutMe"></span>
            </div>
            <div class="detail-item">
                <label>About Family:</label>
                <span id="aboutFamily"></span>
            </div>
            <!-- <div class="detail-item">
                <label>Prefered Alliance details:</label>
                <span id="preferedalliancedetail"></span>
            </div> -->
            <!-- <div class="detail-item">
                <label>Family Type:</label>
                <span id="familyType"></span>
            </div> -->
            <div class="detail-item">
                <label>Father Name:</label>
                <span id="fatherName"></span>
            </div>
            <div class="detail-item">
                <label>Father Occupation:</label>
                <span id="fatherOccupation"></span>
            </div>
            <div class="detail-item">
                <label>Mother Name:</label>
                <span id="motherName"></span>
            </div>
            <div class="detail-item">
                <label>Mother Occupation:</label>
                <span id="motherOccupation"></span>
            </div>
            <div class="detail-item">
                <label>Number of Brothers:</label>
                <span id="numberOfBrothers"></span>
            </div>
            <div id="brothersDetailsContainer"></div>
            <div class="detail-item">
                <label>Number of Sisters:</label>
                <span id="numberOfSisters"></span>
            </div>
            <div id="sistersDetailsContainer"></div>
            <div class="detail-item">
                <label>Education Qualification:</label>
                <span id="education"></span>
            </div>
            <div class="detail-item">
                <label>Revert:</label>
                <span id="revert"></span>
            </div>
            <div class="detail-item">
                <label>Monthly Salary Range:</label>
                <span id="salaryRange"></span>
            </div>
            <div class="detail-item">
                <label>Profession:</label>
                <span id="profession"></span>
            </div>
            <div class="detail-item">
                <label>Business Type:</label>
                <span id="businessType"></span>
            </div>
            <div class="detail-item">
                <label>How I Know Kurshid Bhai:</label>
                <span id="howIKnow"></span>
            </div>
            <!-- <div class="detail-item">
                <label>Partner Height to be:</label>
                <span id="partner_height"></span>
            </div>
            <div class="detail-item">
                <label>Partner Weight to be:</label>
                <span id="partner_weight"></span>
            </div>
            <div class="detail-item">
                <label>Partner Caste to be:</label>
                <span id="partner_caste"></span>
            </div>
            <div class="detail-item">
                <label>Partner Education to be:</label>
                <span id="partner_education"></span>
            </div>
            <div class="detail-item">
                <label>Partner Occupation to be:</label>
                <span id="partner_occupation"></span>
            </div>
            <div class="detail-item">
                <label>Partner Follow to be:</label>
                <span id="partner_follow"></span>
            </div>
            <div class="detail-item">
                <label>Partner Personal Attribute to be:</label>
                <span id="partner_personal_attribute"></span>
            </div> -->
            <div class="footer">
                <button onclick="continueToFilters()" style="
                    width: 100%;
                    padding: 10px;
                    box-sizing: border-box;
                    background-color: #333;
                    color: white;
                ">Continue</button>
            </div>
        </div>
    </div>

    

    <!-- <script src="js/include.js"></script>
    <div id="footerPlaceholder"></div> -->
    <!-- <script src="js/matrimony/prview.js"></script> -->
</body>
</html>

<script>
function goBack() {
    window.history.back();
}

function continueToFilters() {
    window.location.href = "filter.html";
}

// Function to get a cookie value or return "N/A" if not found
function getCookie(name) {
    let cookieArr = document.cookie.split(";");
    for (let i = 0; i < cookieArr.length; i++) {
        let cookiePair = cookieArr[i].split("=");
        if (name == cookiePair[0].trim()) {
            let value = decodeURIComponent(cookiePair[1]);
            return value ? value : "N/A";
        }
    }
    return "N/A";
}

// Function to create sibling fields
function createSiblingFields(containerId, numberOfSiblings, siblingType) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';

    for (let i = 1; i <= numberOfSiblings; i++) {
        const siblingContainer = document.createElement('div');
        siblingContainer.className = 'sibling-details';

        const siblingOccupation = document.createElement('div');
        siblingOccupation.className = 'detail-item';
        siblingOccupation.innerHTML = `<label>${siblingType} ${i} Occupation:</label><span id="${siblingType.toLowerCase()}${i}Occupation"></span>`;
        siblingContainer.appendChild(siblingOccupation);

        const siblingMaritalStatus = document.createElement('div');
        siblingMaritalStatus.className = 'detail-item';
        siblingMaritalStatus.innerHTML = `<label>${siblingType} ${i} Marital Status:</label><span id="${siblingType.toLowerCase()}${i}MaritalStatus"></span>`;
        siblingContainer.appendChild(siblingMaritalStatus);

        container.appendChild(siblingContainer);
    }
}

document.addEventListener("DOMContentLoaded", function () {
    // Fetch the data from cookies and set it to the respective fields
    document.getElementById("name").innerText = getCookie("field1");
    document.getElementById("dob").innerText = getCookie("field2");
    document.getElementById("gender").innerText = getCookie("gender");
    document.getElementById("caste").innerText = getCookie("filed3");
    document.getElementById("follow").innerText = getCookie("field4");
    document.getElementById("phoneNumber").innerText = getCookie("field5");
    document.getElementById("nativeLanguage").innerText = getCookie("field6");
    document.getElementById("residenceLanguage").innerText = getCookie("field7");
    document.getElementById("Hobbies").innerText = getCookie("field8");
    document.getElementById("country").innerText = getCookie("field9");
    document.getElementById("state").innerText = getCookie("field10");
    document.getElementById("city").innerText = getCookie("field11");
    document.getElementById("address").innerText = getCookie("field12");
    document.getElementById("maritalStatus").innerText = getCookie("field13");
    document.getElementById("children").innerText = getCookie("field14");
    document.getElementById("height").innerText = getCookie("field15");
    document.getElementById("weight").innerText = getCookie("field16");
    document.getElementById("aboutMe").innerText = getCookie("field17");
    document.getElementById("aboutFamily").innerText = getCookie("field18");
    // document.getElementById("familyType").innerText = getCookie("field19");
    document.getElementById("fatherName").innerText = getCookie("field20");
    document.getElementById("fatherOccupation").innerText = getCookie("field21");
    document.getElementById("motherName").innerText = getCookie("field22");
    document.getElementById("motherOccupation").innerText = getCookie("field23");

    document.getElementById('numberOfBrothers').textContent = getCookie('field24');
    document.getElementById('numberOfSisters').textContent = getCookie('field25');

    document.getElementById("education").innerText = getCookie("field30");
    document.getElementById("revert").innerText = getCookie("field31");
    document.getElementById("salaryRange").innerText = getCookie("field32");
    document.getElementById("profession").innerText = getCookie("field33");
    document.getElementById("businessType").innerText = getCookie("field34");
    document.getElementById("howIKnow").innerText = getCookie("field35");
    document.getElementById("partner_height").innerText = getCookie("field36");
    document.getElementById("partner_weight").innerText = getCookie("field37");
    document.getElementById("partner_caste").innerText = getCookie("field38");
    document.getElementById("partner_education").innerText = getCookie("field39");
    document.getElementById("partner_occupation").innerText = getCookie("field40");
    document.getElementById("partner_follow").innerText = getCookie("field41");
    document.getElementById("partner_personal_attribute").innerText = getCookie("field42");

    if (numBrothers > 0) {
        showBrothersDetails(numBrothers);
    }

    if (numSisters > 0) {
        showSistersDetails(numSisters);
    }

    // Show children detail section if the marital status indicates there are children
    const maritalStatus = getCookie("maritalStatus");
    if (maritalStatus && maritalStatus.toLowerCase() === 'married' && getCookie("children")) {
        document.getElementById("childrenDetail").style.display = 'block';
    }
    // Create fields for brothers and sisters details
createSiblingFields('brothersDetailsContainer', getCookie('numberOfBrothers'), 'Brother');
createSiblingFields('sistersDetailsContainer', getCookie('numberOfSisters'), 'Sister');
});



// document.addEventListener('DOMContentLoaded', function() {
//     // Function to get a cookie by name
//     function getCookie(name) {
//         const value = `; ${document.cookie}`;
//         const parts = value.split(`; ${name}=`);
//         if (parts.length === 2) return parts.pop().split(';').shift();
//     }

//     // Get the image URL from the cookies
//     const imageUrl = getCookie('images0'); // Adjust the cookie name as needed

//     // Set the background image of the profilePhoto div
//     if (imageUrl) {
//         const profilePhotoDiv = document.getElementById('profilePhoto');
//         profilePhotoDiv.style.backgroundImage = `url('${imageUrl}')`;
//     }
// });


document.addEventListener('DOMContentLoaded', function() {
    // Function to get a cookie by name
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    }

    // Function to get image URLs from cookies
    function getImageUrls() {
        const urls = [];
        for (let i = 0; i <= 5; i++) {
            const url = getCookie(`images${i}`);
            if (url) {
                urls.push(url);
            }
        }
        return urls;
    }

    // Function to update the background image
    function updateImage(index) {
        if (imageUrls.length > 0) {
            profilePhotoDiv.style.backgroundImage = `url('${imageUrls[index]}')`;
        }
    }

    // Initialize variables
    const profilePhotoDiv = document.getElementById('profilePhoto');
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');
    const imageUrls = getImageUrls();
    let currentIndex = 0;

    // Set initial image
    updateImage(currentIndex);

    // Event listeners for navigation buttons
    prevButton.addEventListener('click', function() {
        currentIndex = (currentIndex - 1 + imageUrls.length) % imageUrls.length;
        updateImage(currentIndex);
    });

    nextButton.addEventListener('click', function() {
        currentIndex = (currentIndex + 1) % imageUrls.length;
        updateImage(currentIndex);
    });
});


</script>
