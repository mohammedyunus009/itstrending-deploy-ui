<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="css/i.css" rel="stylesheet">
  
</head>
<body>
    <header class="navbar">
        <div class="navbar-item left">
            <img src="comapny log2.jpg" alt="Logo" class="logo">
            <div class="company-info">
                <img src="img/mms.jpg" alt="Additional Image 1">
                <img src="img/EGAC.png" alt="Additional Image 2">
                <img src="img/IAF.png" alt="Additional Image 2">
                <img src="img/NABCB.png" alt="Additional Image 2">
            </div>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
    
    <div class="installation-form">
        <h2>Installation Form</h2>
        <div class="underline"></div>
        <label for="serial-number"><strong>Serial Number: </strong></label>
        <input type="text" id="serial-number" name="serial-number" placeholder="Enter Serial Number" required>
    </div>
    
    <!-- New Sub-header resembling the Navbar -->
    <header class="sub-navbar">
        <div class="navbar-item left">
            <h3 style="margin: 0; color:#00bfa6 ;">Customer Information</h3>
        </div>
        
        <div class="navbar-item middle"></div>
        <div class="navbar-item right"></div>
    </header>
         
    <div class="installation-form1">
        <!-- Customer Details Field -->
        <div class="form-group">
            <label for="customer-details"><strong>Customer Details: </strong></label>
            <input type="text" id="customer-details" name="customer-details" placeholder="Enter Customer Details" required>
        </div>
    
        <!-- Project Field -->
        <div class="form-group project-field">
            <label for="project"><strong>Project: </strong></label>
            <input type="text" id="project" name="project" placeholder="Enter Project Name" required>
        </div>
    </div>
    
    <div class="installation-form1">
        <!-- PNO Field -->
        <div class="form-group">
            <label for="pno"><strong>PNO Number: </strong></label>
            <input type="text" id="pno" name="pno" placeholder="Enter PNO Number" required>
        </div>
    
        <div class="form-group">
            <label for="ponumber-date"><strong>PO Date: </strong></label>
            <input type="text" id="ponumber-date" name="ponumber-date" placeholder="DD/MM/YYYY" required>
        </div>
    </div>
    
   
    <div class="installation-form1">
        <!-- Invoice Number Field -->
        <div class="form-group">
            <label for="invoice-number"><strong>Invoice Number: </strong></label>
            <input type="text" id="invoice-number" name="invoice-number" placeholder="Enter Invoice Number" required>
        </div>
    
        <!-- Invoice Date Field -->
        <div class="form-group">
            <label for="invoice-date"><strong>Invoice Date: </strong></label>
            <input type="text" id="invoice-date" name="invoice-date" placeholder="DD/MM/YYYY" required>
        </div>
    </div>
    
    <div class="installation-form1">
      
    
        <!-- Vehicle Model Field -->
        <div class="form-group">
            <label for="vehicle-model"><strong>Vehicle Model: </strong></label>
            <input type="text" id="vehicle-model" name="vehicle-model" placeholder="Enter Vehicle Model" required>
        </div>
    
        <!-- Vehicle Serial Number Field -->
        <div class="form-group">
            <label for="vehicle-sl-no"><strong>Vehicle Sl No: </strong></label>
            <input type="text" id="vehicle-sl-no" name="vehicle-sl-no" placeholder="Enter Vehicle Serial Number" required>
        </div>
    </div>


    <div class="installation-form1">
        <!-- Equipment Type Field -->
        <div class="form-group">
            <label for="equipment-type"><strong>Type of Equipment: </strong></label>
            <input type="text" id="equipment-type" name="equipment-type" placeholder="Enter Type of Equipment" required>
        </div>
    
        <!-- Equipment Serial Number Field -->
        <div class="form-group">
            <label for="equipment-sl-no"><strong>Equipment Sl No: </strong></label>
            <input type="text" id="equipment-sl-no" name="equipment-sl-no" placeholder="Enter Equipment Serial Number" required>
        </div>
   
    </div>
    
    <div class="installation-form1">
        <!-- Installation HRM Field -->
        <div class="form-group">
            <label for="installation-hrm"><strong>Installation HRM: </strong></label>
            <input type="text" id="installation-hrm" name="installation-hrm" placeholder="Enter Installation HRM" required>
        </div>
    
        <!-- Failure HMR Field -->
        <div class="form-group">
            <label for="failure-hmr"><strong>Failure HMR: </strong></label>
            <input type="text" id="failure-hmr" name="failure-hmr" placeholder="Enter Failure HMR" required>
        </div>
    </div>
    
     <!-- Next Button -->
     <button class="next-button" onclick="handleNext()">Next</button>

     <script>
         function handleNext() {
             // Add logic to handle the next step
            //  alert('Next button clicked!'); // Placeholder for functionality
             // You can redirect to another page or perform any other action
             window.location.href = 'installationform2.html';
         }


         function handleNext() {
        // Store form data into cookies with field1 to field11
        const serialNumber = document.getElementById('serial-number').value;
        const customerDetails = document.getElementById('customer-details').value;
        const project = document.getElementById('project').value;
        const pno = document.getElementById('pno').value;
        const poDate = document.getElementById('ponumber-date').value;
        const invoiceNumber = document.getElementById('invoice-number').value;
        const invoiceDate = document.getElementById('invoice-date').value;
        const vehicleModel = document.getElementById('vehicle-model').value;
        const vehicleSlNo = document.getElementById('vehicle-sl-no').value;
        const equipmentType = document.getElementById('equipment-type').value;
        const equipmentSlNo = document.getElementById('equipment-sl-no').value;
        const installationHrm = document.getElementById('installation-hrm').value;
        const failureHmr = document.getElementById('failure-hmr').value;
        
        // Combine PO Number + PO Date and Invoice Number + Invoice Date
        const poCombined = `${pno}, ${poDate}`;
        const invoiceCombined = `${invoiceNumber}, ${invoiceDate}`;

        // Set cookies
        document.cookie = `field1=${serialNumber}; path=/;`;
        document.cookie = `field2=${customerDetails}; path=/;`;
        document.cookie = `field3=${project}; path=/;`;
        document.cookie = `field4=${poCombined}; path=/;`;  // Combined PO No and Date
        document.cookie = `field5=${invoiceCombined}; path=/;`;  // Combined Invoice No and Date
        document.cookie = `field6=${vehicleModel}; path=/;`;
        document.cookie = `field7=${vehicleSlNo}; path=/;`;
        document.cookie = `field8=${equipmentType}; path=/;`;
        document.cookie = `field9=${equipmentSlNo}; path=/;`;
        document.cookie = `field10=${installationHrm}; path=/;`;
        document.cookie = `field11=${failureHmr}; path=/;`;

        // Redirect to the next form/page
        window.location.href = 'installationform2.html';
    }



// Function to get cookie value by name
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}

// Retrieve the token from cookies
const authToken = getCookie('token'); // Replace 'authToken' with the actual cookie name

// Retrieving values for fields from cookies
const fields = {};
for (let i = 1; i <= 42; i++) {
  fields[`field${i}`] = getCookie(`field${i}`) || ""; // Retrieve field from cookie or set as empty string
}

// Preparing the request body with cookie values
const raw = JSON.stringify({
  "profile_id": "1",
  "description": "",
  "gender": "",
  "images": "",
  "bio": "",
  ...fields, // Spread the fields object to include field1 to field40
  "field43": "",
  "field44": "",
  "field45": "",
  "field46": "",
  "field47": "",
  "field48": "",
  "field49": "",
  "field50": ""
});

const myHeaders = new Headers();
myHeaders.append("Authorization", authToken); // Use the token from cookies
myHeaders.append("Content-Type", "application/json");

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

// Correcting the URL by removing the extra "https://"
fetch("https://api2.itstrending.in/api/v1/profiles", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error('Fetch error:', error));


     </script>
    
    

</body>
</html>
