<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>profile-Details</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" >
	 <link href="fonts/css/fontawesome.min.css" rel="stylesheet" >
	<link href="fonts/css/brands.min.css" rel="stylesheet" />
     <link href="fonts/css/solid.min.css" rel="stylesheet" />
	<link href="css/global.css" rel="stylesheet">
	<link href="css/index.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #F0F0F0;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #333;
      color: #FFFFFF;
      padding: 15px 20px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .header .back-button {
      font-size: 24px;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .header .back-button:hover {
      color: #BBBBBB;
    }
    .header .title {
      flex-grow: 1;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    .profile-container {
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .profile-photo-container {
      position: relative;
      width: 350px;
      height: 350px;
      overflow: hidden;
      border: 2px solid #000;
      margin-bottom: 20px;
    }
    .profile-photo {
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: top;
      transition: transform 0.3s ease-in-out;
    }
    .profile-photo:hover {
      transform: scale(1.1);
    }
    .profile-details {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 600px;
      margin-top: 20px;
      text-align: left;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .profile-details h2 {
      margin-top: 0;
      text-align: center;
    }
    .detail-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #ddd;
      width: 100%;
    }
    .detail-item:last-child {
      border-bottom: none;
    }
    .label {
      font-weight: bold;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }
    .row .detail-item {
      width: 48%;
    }
    @media (min-width: 768px) {
      .profile-container {
        flex-direction: column;
        align-items: center;
      }
    }
    .back-button {
      margin-top: 20px;
      padding: 10px 20px;
     
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-align: center;
    }
    .back-button:hover {
      background-color: #0056B3;
    }
    .slideshow-buttons {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
    }
    .slideshow-buttons button {
      background-color: rgba(0, 0, 0, 0.5);
      border: none;
      color: white;
      padding: 10px;
      cursor: pointer;
      font-size: 18px;
    }
    .slideshow-buttons button:hover {
      background-color: rgba(0, 0, 0, 0.8);
    }
     /* Logo Image Styling */
.logo-img {
    width: 220px; /* Adjust size for desktop view */
    height: 75px;
}

@media (max-width: 768px) {
    .logo-img {
        max-width: 120px; /* Adjust size for mobile view */
    }
}

/* General styles for the detail items */
.detail-item {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  background-color: #f9f9f9;
}

/* Style for labels */
.detail-item .label {
  font-weight: bold;
  width: 200px; /* Adjust width as needed */
  margin-right: 10px;
}

/* Style for the value labels */
.detail-item label:not(.label) {
  flex: 1;
  margin-right: 10px;
  color: #333;
}

/* Style for input fields */
.detail-item input[type="text"] {
  width: 200px; /* Adjust width as needed */
  padding: 5px;
  border: 1px solid #ccc;
  border-radius: 3px;
  font-size: 14px;
  color: #555;
}

/* Responsive styling */
@media (max-width: 768px) {
  .detail-item {
    flex-direction: column;
    align-items: flex-start;
  }

  .detail-item .label {
    width: auto;
    margin-bottom: 5px;
  }

  .detail-item input[type="text"] {
    width: 100%;
  }
}
/* General styling for the button */
#submitBtn {
    background-color: #4CAF50; /* Green background */
    border: none; /* Remove borders */
    color: white; /* White text */
    padding: 10px 20px; /* Add padding */
    text-align: center; /* Centered text */
    text-decoration: none; /* Remove underline */
    display: inline-block; /* Align with other elements */
    font-size: 16px; /* Increase font size */
    margin: 4px 2px; /* Add margin */
    cursor: pointer; /* Pointer cursor on hover */
    border-radius: 5px; /* Rounded corners */
    transition: background-color 0.3s ease; /* Smooth transition for background color */
}

/* Button hover effect */
#submitBtn:hover {
    background-color: #45a049; /* Darker green on hover */
}

/* Center the button for desktop and mobile */
.button-container {
    display: flex; /* Use flexbox */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    height: 20vh; /* Full viewport height */
    margin: 0; /* Remove default margin */
}

/* Media query for mobile view */
@media (max-width: 600px) {
    #submitBtn {
        width: 80%; /* Adjust button width for mobile */
        font-size: 14px; /* Slightly smaller font size on mobile */

    }
}

/* Media query for larger screens */
@media (min-width: 601px) {
    #submitBtn {
        width: auto; /* Default width for larger screens */
    }
}

  </style>
</head>
<body>
    
<section id="top" class="bg_brown pt-2 pb-2">
  <div class="container-xl">
   <div class="row top_1">
    <div class="col-md-6">
     <div class="top_1l mt-1">
    <ul class="mb-0 font_14">
       <li class="text-white d-inline-block"><i class="fa fa-phone me-1 align-middle col_dark"></i> +91 9980835923</li>
     <li class="text-white d-inline-block ms-3"><i class="fa fa-envelope me-1 align-middle col_dark"></i> asif@gmail.com</li>
     </ul>
   </div>
    </div>
    <div class="col-md-6">
     <div class="top_1r text-end">
      <ul class="mb-0">
       <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-facebook"></i></a></li>
       <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-instagram"></i></a></li>
       <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-pinterest"></i></a></li>
       <li class="d-inline-block"><a class="d-inline-block  text-center text-white" href="#"><i class="fa-brands fa-linkedin"></i></a></li>
     </ul>
   </div>
    </div>
   </div>
  </div>
 </section>
 
 <section id="header">
   <nav class="navbar navbar-expand-md navbar-light p-0 pt-2 pb-2" id="navbar_sticky">
     <div class="container-xl">
     <a class="navbar-brand p-0 me-0" href="index.html">
				<img src="img/IMG-20240813-WA0001-removebg-preview.png" alt="ISC Logo" class="logo-img">
			</a>
     <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>
     <div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mb-0 ms-auto">
			  <li class="nav-item">
				<a class="nav-link" aria-current="page" href="index.html">Home</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href="about.html">About</a>
			  </li>
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Login/Register
				</a>
				<div class="dropdown-menu" aria-labelledby="navbarDropdown">
					<a class="dropdown-item" href="login.html">Sign In/Sign Up</a>
					<a class="dropdown-item" href="register-process.html">Create Profile</a>
					<a class="dropdown-item" href="plans.html">Plans</a>
				</div>
			</li>
			  <li class="nav-item">
				<a class="nav-link" href="filter.html">Search</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href="payment.html">Payment</a>
			  </li>
		  
			  <!-- Dropdown for Event -->
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="eventDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				  Event
				</a>
				<ul class="dropdown-menu" aria-labelledby="eventDropdown">
				  <li><a class="dropdown-item" href="#">Matrimonial</a></li>
				  <li><a class="dropdown-item" href="#">Meeting</a></li>
				  <li><a class="dropdown-item" href="#">KPN</a></li>
				  <li><a class="dropdown-item" href="health.html">Health & Wellness</a></li>
				  <li><a class="dropdown-item" href="#">Marita Consulting</a></li>
				</ul>
			  </li>
		  
			  <!-- Dropdown for Donation -->
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="#" id="donationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				  Donation
				</a>
				<ul class="dropdown-menu" aria-labelledby="donationDropdown">
				  <li><a class="dropdown-item" href="EducationalSupport.html">Educational Support</a></li>
				  <li><a class="dropdown-item" href="WidowSupport.html">Widow Support</a></li>
				  <li><a class="dropdown-item" href="Ramadanfoodkit.html">Food/Ration Distribution</a></li>
				  <li><a class="dropdown-item" href="MedicalSupport.html">Medical Support</a></li>
				  <li><a class="dropdown-item" href="Marriagesupport.html">Marriage Support</a></li>
				  <li><a class="dropdown-item" href="EmploymentBusiness.html">Employment Business Support</a></li>
				</ul>
			  </li>
			  <!-- <li class="nav-item">
						<a class="nav-link" href="#">Media</a>
					</li> -->
			  <li class="nav-item">
				<a class="nav-link" href="contact.html">Contact</a>
			  </li>
			  <!-- <li class="nav-item">
				<a class="nav-link" href="login.html">Sign In/Sign Up</a>
			  </li> -->
			</ul>
     </div>
     </div>
   </nav>
   </section>
  <div class="header">
    <span class="back-button" onclick="goBack()">&#9664;</span>
    <div class="title">Profile Details</div>
  </div>
  <div id="profileDetails" class="profile-container"></div>
  <div class="button-container">
    <button id="submitBtn">Submit</button>
</div>


  <section id="footer" class="p_3 px_4" style="background-color: #5c0951;">
    <div class="container-fluid" style="background-color: #5c0951;">
      <div class="footer_m bg_light p-4">
        <div class="footer_1 row">
        <div class="col-md-3">
       <div class="footer_1i">
         <h1 class="mb-3"><a class="family_1" href="index.html"><i class="fa fa-heart me-1 col_brown"></i>  ISC <br>
   <span class="family_2 fw-normal font_14 col_brown">Lookimg for a patner </span>
   </a></h1>
   <p class="fst-italic">Connecting Hearts, Creating Futures.</p>
   <ul class="mb-0"> 
   <li><a href="#"><i class="fa fa-envelope col_brown me-1 align-middle"></i> asif@gmail.com</a></li>
   <li class="mt-3"><a href="#"><i class="fa fa-phone col_brown me-1 align-middle"></i> 91+ 9980835923</a></li>
   <li class="mt-3" style="color: white;"><i class="fa fa-home col_brown me-1 align-middle"></i> Vidyaranapura</li>
   </ul>
       </div>
      </div>
        <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">Social media</h5>
        <ul class="mb-0">
          <li><a href="#">Facebook</a></li>
         <li class="mt-3"><a href="#">Twitter</a></li>
         <li class="mt-3"><a href="#">Pinterest</a></li>
         <li class="mt-3"><a href="#">Instagram</a></li>
        </ul>
       </div>
      </div> 
      
      <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">Get TO Know US</h5>
        <h6 class="family_2 font_14 fw-normal">ABOUT US</h6>
     
         <h6 class="family_2 font_14 fw-normal mt-3">Contact US</h6>
        
       </div>
      </div>
      <div class="col-md-3">
       <div class="footer_1i">
          <h5 class="mt-3 mb-4">TELEGRAM</h5>
        <div class="footer_1i1 row mx-0">
         <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/33.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/34.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/35.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
        </div>
        <div class="footer_1i1 row mx-0">
         <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/13.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/14.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
       <div class="col-md-4 p-0">
         <div class="footer_1i1l">
           <div class="grid clearfix">
         <figure class="effect-jazz mb-0">
         <a href="#"><img src="img/17.jpg" class="w-100" alt="img25"></a>
         </figure>
         </div>
         </div>
       </div>
        </div>
       </div>
      </div>
      </div><hr class="mt-4 mb-4">
      <div class="footer_2 row">
        <div class="col-md-8">
       <div class="footer_2l">
           <p class="mb-0">© 2013 Your Website Name. All Rights Reserved | Design by <a class="col_brown fw-bold" href="http://www.hitechdesign.in/">Hitech Design</a></p>
       </div>
      </div>
     <!-- <div class="col-md-4">
       <div class="footer_2r text-end">
          <ul class="text-uppercase font_13 mb-0">
           <li class="d-inline-block"><a href="#"> Facebook</a></li>
         <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Twitter</a></li>
          <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Pinterest</a></li>
          <li class="d-inline-block mx-2 text-muted">|</li>
          <li class="d-inline-block"><a href="#"> Instagram</a></li>
         </ul>
       </div>
      </div> -->
      </div>
      </div>
     </div>
    </div>

   </section>

  <script>
    // Function to get a cookie by name
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    function fetchProfileDetails(profileId) {
      const token = getCookie('token');
      const Email = getCookie('email');
      const decodedEmail = decodeURIComponent(Email); // Retrieve the token from cookies
      const myHeaders = new Headers();
      myHeaders.append("Authorization", token); // Use the token in the header
      myHeaders.append("Content-Type", "application/json");

      const raw = JSON.stringify({
    "profile_id": profileId,
    "email": decodedEmail // Use the decoded email in the payload
  });      const requestOptions = {
        method: "POST",
        headers: myHeaders,
        body: raw,
        redirect: "follow"
      };
      fetch("https://api.itstrending.in:5000/api/v1/profiles/get_profile_details", requestOptions)
        .then(response => response.json())
        .then(result => {
          console.log(result.data.profile);
          displayProfileDetails(result.data.profile);
        })
        .catch(error => console.error('Error fetching profile details:', error));
    }
    
    function displayProfileDetails(profile) {
    const detailsContainer = document.getElementById('profileDetails');
    detailsContainer.innerHTML = '';
    const images = profile.images.split(',').map(img => img.trim().replace('{', '').replace('}', ''));

    const slideshowContainer = document.createElement('div');
    slideshowContainer.className = 'profile-photo-container';
    slideshowContainer.id = 'imagesContainer'; // Add an id here
    
    const slideshow = document.createElement('div');
    slideshow.className = 'profile-photo';
    slideshow.style.backgroundImage = `url('${images[0]}')`;
    slideshowContainer.appendChild(slideshow);
    
    const buttonsContainer = document.createElement('div');
    buttonsContainer.className = 'slideshow-buttons';
    const prevButton = document.createElement('button');
    prevButton.textContent = '◀';
    prevButton.onclick = () => showSlide(--currentSlide);
    const nextButton = document.createElement('button');
    nextButton.textContent = '▶';
    nextButton.onclick = () => showSlide(++currentSlide);
    buttonsContainer.appendChild(prevButton);
    buttonsContainer.appendChild(nextButton);
    slideshowContainer.appendChild(buttonsContainer);

    detailsContainer.appendChild(slideshowContainer);
    
    let currentSlide = 0;
    function showSlide(index) {
        if (index >= images.length) currentSlide = 0;
        else if (index < 0) currentSlide = images.length - 1;
        else currentSlide = index;
        slideshow.style.backgroundImage = `url('${images[currentSlide]}')`;
    }
    
    showSlide(currentSlide);



      const detailsCard = document.createElement('div');
      detailsCard.className = 'profile-details';
      detailsCard.innerHTML = `
<div class="detail-item">
  <label class="label">Sl. No:</label>
  <input type="text" id="slNoInput" value="${profile.field1 ? decodeURIComponent(profile.field1) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Profile Coordinator Name:</label>
  <input type="text" id="profileCoordinatorNameInput" value="${profile.field10 ? decodeURIComponent(profile.field10) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Profile Status:</label>
  <input type="text" id="profileStatusInput" value="${profile.field11 ? decodeURIComponent(profile.field11) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Reason for On Hold:</label>
  <input type="text" id="reasonForOnHoldInput" value="${profile.field13 ? decodeURIComponent(profile.field13) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Name:</label>
  <input type="text" id="nameInput" value="${profile.field5 ? decodeURIComponent(profile.field5) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Gender:</label>
  <input type="text" id="genderInput" value="${profile.gender ? decodeURIComponent(profile.gender) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Age:</label>
  <input type="text" id="ageInput" value="${profile.field6 ? decodeURIComponent(profile.field6) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Height:</label>
  <input type="text" id="heightInput" value="${profile.field14 ? decodeURIComponent(profile.field14) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Family/Subcaste:</label>
  <input type="text" id="familySubcasteInput" value="${profile.field8 ? decodeURIComponent(profile.field8) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Follow:</label>
  <input type="text" id="followInput" value="${profile.field4 ? decodeURIComponent(profile.field4) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Marital Status:</label>
  <input type="text" id="maritalStatusInput" value="${profile.field3 ? decodeURIComponent(profile.field3) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Marital Tenure:</label>
  <input type="text" id="maritalTenureInput" value="${profile.field15 ? decodeURIComponent(profile.field15) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Children:</label>
  <input type="text" id="childrenInput" value="${profile.field16 ? decodeURIComponent(profile.field16) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Valid Divorce Document:</label>
  <input type="text" id="validDivorceDocumentInput" value="${profile.images ? 'For Divorce Document Please Refer The Above Photos' : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Education:</label>
  <input type="text" id="educationInput" value="${profile.field2 ? decodeURIComponent(profile.field2) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Profession:</label>
  <input type="text" id="professionInput" value="${profile.field9 ? decodeURIComponent(profile.field9) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Company:</label>
  <input type="text" id="companyInput" value="${profile.field18 ? decodeURIComponent(profile.field18) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Job Location:</label>
  <input type="text" id="jobLocationInput" value="${profile.field19 ? decodeURIComponent(profile.field19) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Home Address:</label>
  <input type="text" id="homeAddressInput" value="${profile.field7 ? decodeURIComponent(profile.field7) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Father's Name:</label>
  <input type="text" id="fathersNameInput" value="${profile.field20 ? decodeURIComponent(profile.field20) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Father's Occupation:</label>
  <input type="text" id="fathersOccupationInput" value="${profile.field21 ? decodeURIComponent(profile.field21) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Mother's Name:</label>
  <input type="text" id="mothersNameInput" value="${profile.field22 ? decodeURIComponent(profile.field22) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Mother's Occupation:</label>
  <input type="text" id="mothersOccupationInput" value="${profile.field23 ? decodeURIComponent(profile.field23) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">No of Sisters:</label>
  <input type="text" id="noOfSistersInput" value="${profile.field24 ? decodeURIComponent(profile.field24) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Sister's Marital Status:</label>
  <input type="text" id="sistersMaritalStatusInput" value="${profile.field37 ? decodeURIComponent(profile.field37) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Sister's Occupation:</label>
  <input type="text" id="sistersOccupationInput" value="${profile.field38 ? decodeURIComponent(profile.field38) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">No of Brothers:</label>
  <input type="text" id="noOfBrothersInput" value="${profile.field25 ? decodeURIComponent(profile.field25) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Brother's Marital Status:</label>
  <input type="text" id="brothersMaritalStatusInput" value="${profile.field39 ? decodeURIComponent(profile.field39) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Brother's Occupation:</label>
  <input type="text" id="brothersOccupationInput" value="${profile.field40 ? decodeURIComponent(profile.field40) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Family/Subcaste:</label>
  <input type="text" id="preferredFamilySubcasteInput" value="${profile.field26 ? decodeURIComponent(profile.field26) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Education:</label>
  <input type="text" id="preferredEducationInput" value="${profile.field27 ? decodeURIComponent(profile.field27) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Profession:</label>
  <input type="text" id="preferredProfessionInput" value="${profile.field28 ? decodeURIComponent(profile.field28) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Age:</label>
  <input type="text" id="preferredAgeInput" value="${profile.field29 ? decodeURIComponent(profile.field29) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Height:</label>
  <input type="text" id="preferredHeightInput" value="${profile.field30 ? decodeURIComponent(profile.field30) : 'N/A'}">
</div>

<div class="detail-item">
  <label class="label">Religious Attributes:</label>
  <input type="text" id="religiousAttributesInput" value="${profile.field35 ? decodeURIComponent(profile.field35) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Personal Attribute:</label>
  <input type="text" id="personalAttributeInput" value="${profile.field31 ? decodeURIComponent(profile.field31) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Follow and Practice:</label>
  <input type="text" id="preferredFollowPracticeInput" value="${profile.field32 ? decodeURIComponent(profile.field32) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Family Type:</label>
  <input type="text" id="familyTypeInput" value="${profile.field33 ? decodeURIComponent(profile.field33) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Preferred Location:</label>
  <input type="text" id="preferredLocationInput" value="${profile.field34 ? decodeURIComponent(profile.field34) : 'N/A'}">
</div>
<div class="detail-item">
  <label class="label">Partner Working Status:</label>
  <input type="text" id="partnerWorkingStatusInput" value="${profile.field36 ? decodeURIComponent(profile.field36) : 'N/A'}">
</div>



`;



      detailsContainer.appendChild(detailsCard);
    }
    
    function getProfileIdFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return params.get('profile_id');
    }
    
    function goBack() {
      window.history.back();
    }
    
    const profileId = getProfileIdFromUrl();
    if (profileId) {
      fetchProfileDetails(profileId);
    } else {
      document.getElementById('profileDetails').innerHTML = '<p>No profile ID found.</p>';
    }

    function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
}


const myHeaders = new Headers();
const token = getCookie('token'); // Replace 'yourCookieName' with the name of your cookie

if (token) {
    myHeaders.append("Authorization", token);
} else {
    console.error("Token not found in cookies.");
}

myHeaders.append("Content-Type", "application/json");

document.getElementById('submitBtn').addEventListener('click', function() {
    // Fetching values from input fields
    const slnoValue = document.getElementById('slNoInput').value;
    const profileCoordinatorName = document.getElementById('profileCoordinatorNameInput').value;
    const profileStatus = document.getElementById('profileStatusInput').value;
    const reasonForOnHold = document.getElementById('reasonForOnHoldInput').value;
    const name = document.getElementById('nameInput').value;
    const gender = document.getElementById('genderInput').value;
    const age = document.getElementById('ageInput').value;
    const height = document.getElementById('heightInput').value;
    const familySubcaste = document.getElementById('familySubcasteInput').value;
    const follow = document.getElementById('followInput').value;
    const maritalStatus = document.getElementById('maritalStatusInput').value;
    const maritalTenure = document.getElementById('maritalTenureInput').value;
    const children = document.getElementById('childrenInput').value;
    const validDivorceDocument = document.getElementById('validDivorceDocumentInput').value;
    const education = document.getElementById('educationInput').value;
    const profession = document.getElementById('professionInput').value;
    const company = document.getElementById('companyInput').value;
    const jobLocation = document.getElementById('jobLocationInput').value;
    const homeAddress = document.getElementById('homeAddressInput').value;
    const fathersName = document.getElementById('fathersNameInput').value;
    const fathersOccupation = document.getElementById('fathersOccupationInput').value;
    const mothersName = document.getElementById('mothersNameInput').value;
    const mothersOccupation = document.getElementById('mothersOccupationInput').value;
    const noOfSisters = document.getElementById('noOfSistersInput').value;
    const sistersMaritalStatus = document.getElementById('sistersMaritalStatusInput').value;
    const sistersOccupation = document.getElementById('sistersOccupationInput').value;
    const noOfBrothers = document.getElementById('noOfBrothersInput').value;
    const brothersMaritalStatus = document.getElementById('brothersMaritalStatusInput').value;
    const brothersOccupation = document.getElementById('brothersOccupationInput').value;
    const preferredFamilySubcaste = document.getElementById('preferredFamilySubcasteInput').value;
    const preferredEducation = document.getElementById('preferredEducationInput').value;
    const preferredProfession = document.getElementById('preferredProfessionInput').value;
    const preferredAge = document.getElementById('preferredAgeInput').value;
    const preferredHeight = document.getElementById('preferredHeightInput').value;
    const religiousAttributes = document.getElementById('religiousAttributesInput').value;
const personalAttribute = document.getElementById('personalAttributeInput').value;
const preferredFollowPractice = document.getElementById('preferredFollowPracticeInput').value;
const familyType = document.getElementById('familyTypeInput').value;
const preferredLocation = document.getElementById('preferredLocationInput').value;
const partnerWorkingStatus = document.getElementById('partnerWorkingStatusInput').value;
const images = document.getElementById('imagesContainer').value;

const raw = JSON.stringify({
    "profile_id": profileId, // Using the profile ID
    "description": "",
    "gender": gender,
    "images": images,
    "bio": "",
    "field1": slnoValue,
    "field2": education,
    "field3": maritalStatus,
    "field4": follow,
    "field5": name,
    "field6": age,
    "field7": homeAddress,
    "field8": familySubcaste,
    "field9": profession,
    "field10": profileCoordinatorName,
    "field11": profileStatus,
    "field12": "",
    "field13": reasonForOnHold,
    "field14": height,
    "field15": maritalTenure,
    "field16": children,
    "field17": "",
    "field18": company,
    "field19": jobLocation,
    "field20": fathersName,
    "field21": fathersOccupation,
    "field22": mothersName,
    "field23": mothersOccupation,
    "field24": noOfSisters,
    "field25": noOfBrothers,
    "field26": preferredFamilySubcaste,
    "field27": preferredEducation,
    "field28": preferredProfession,
    "field29": preferredAge,
    "field30": preferredHeight,
    "field31": personalAttribute,
    "field32": preferredFollowPractice,
    "field33": familyType,
    "field34": preferredLocation,
    "field35": religiousAttributes,
    "field36": partnerWorkingStatus,
    "field37": sistersMaritalStatus,
    "field38": sistersOccupation,
    "field39": brothersMaritalStatus,
    "field40": brothersOccupation,
    "field41": "",
    "field42": "",
    "field43": "",
    "field44": "",
    "field45": "",
    "field46": "",
    "field47": "",
    "field48": "",
    "field49": "",
    "field50": ""
});
    const requestOptions = {
        method: "PUT",
        headers: myHeaders,
        body: raw,
        redirect: "follow"
    };

    fetch("https://api.itstrending.in:5000/api/v1/profiles", requestOptions)
        .then((response) => response.text())
        .then((result) => console.log(result))
        .catch((error) => console.error(error));

    console.log(raw); 
    // To see the JSON object in the console
    console.log(profileId);
});


function handleSubmit() {
            // Show the alert message
            alert('Profile updated successfully');
            
            // Reload the page after the user clicks OK
            location.reload();
        }
        
        window.onload = function() {
            // Attach the event handler to the submit button
            const submitButton = document.getElementById('submitBtn');
            submitButton.addEventListener('click', handleSubmit);
        }

    // Import required modules
const express = require('express');
const cors = require('cors');
const bodyParser = require('body-parser');

// Initialize Express app
const app = express();

// CORS middleware
app.use(cors());

// Middleware to parse JSON bodies
app.use(bodyParser.json());

// Define your API endpoints here
app.post('/api/v1/profiles/get_profile_details', (req, res) => {
  // Example logic for handling profile details
  const profileId = req.body.profile_id;

  // Simulate a profile object based on profileId (replace with actual logic)
  const profile = {
    field1: 'John Doe',
    field2: '01/01/1990',
    field3: 'Brahmin',
    field4: 'Yes',
    field5: '123-456-7890',
    field6: 'Kannada',
    field7: 'English',
    field8: 'Reading, Traveling',
    field9: 'India',
    field10: 'Karnataka',
    field11: 'Bengaluru',
    images: 'http://example.com/image1.jpg,http://example.com/image2.jpg,http://example.com/image3.jpg'
  };

  // Send the profile object as a response
  res.json({ status: 'success', data: { profile } });
});

// Define additional API endpoints if needed

// Start your server
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`Server listening on port ${PORT}`);
});

  </script>
</body>
</html>
