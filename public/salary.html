<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="css/matrimony/profile2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PQLTG22ZFC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PQLTG22ZFC');
    </script>
</head>
<body>
    <div class="header">
        <div class="back-button" onclick="goBack()"> < </div>
        <div class="title">Education</div>
    </div>
    
    <div class="user-details">
        <div class="user-icon small">
            <i class="fa-solid fa-briefcase"></i>
        </div>
        <h2>You are almost done!</h2>

        <div class="dropdown-container">
            <form id="profile-form" onsubmit="submitForm(); return false;">
                <div class="form-group">
                    <label for="education_qualification" style="display: block;">Education:</label>
                    <select id="education_qualification" name="education_qualification" onchange="toggleOtherEducationField()">
                        <option value="" disabled selected>Select your qualification</option>
                        <option value="high_school">High School</option>
                        <option value="plus_two_puc">+2 / PUC</option>
                        <option value="bachelors">Bachelors</option>
                        <option value="masters">Masters</option>
                        <option value="engineer_mca">Engineer / MCA</option>
                        <option value="mbbs">MBBS</option>
                        <option value="phd">PhD</option>
                        <option value="others">Others</option>
                    </select>
                    <br><br>
                    <!-- Additional text field for custom education qualification -->
                    <div id="other-education-field" style="display: none;">
                        <label for="other_education" style="display: block;">Please specify your qualification :</label>
                        <input type="text" id="other_education" name="other_education" placeholder="Specify your qualification">
                    </div>
                </div>
                <br>
                <label for="monthly-salary" style="display: block;">Monthly salary range :</label>
<div style="position: relative;">
    <span style="position: absolute; left: 10px; top: 40%; transform: translateY(-50%); font-size: 16px;">â‚¹</span>
    <input type="text" id="monthly-salary" name="monthly-salary" placeholder="Monthly salary range" 
           style="padding-left: 25px; width: 100%;">
</div>
  <br><br>

               <div class="form-group">
                    <label for="professional" style="display: block;">Profession :</label>
                    <select id="professional" name="professional">
                        <option value="">Select Profession</option>
                        <option value="Salaried Employee">Salaried Employee</option>
                        <option value="Business">Business</option>
                        <option value="Homemaker">Homemaker</option>
                        <option value="Working Part time">Working Part time</option>
                        <option value="Others">Others</option>
                    </select>
                    <br><br>
                </div>

                <input type="button" value="Next" onclick="submitForm()" id="nextButton">
            </form>
        </div>
    </div>

    <script>
        function goBack() {
            window.history.back();
        }

        function toggleOtherEducationField() {
            let educationDropdown = document.getElementById('education_qualification');
            let otherEducationField = document.getElementById('other-education-field');
            let selectedValue = educationDropdown.value;

            if (selectedValue === 'others') {
                otherEducationField.style.display = 'block';
            } else {
                otherEducationField.style.display = 'none';
            }
        }

        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                let date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function getCookie(name) {
            let nameEQ = name + "=";
            let ca = document.cookie.split(';');
            for(let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        function submitForm() {
            let monthlySalary = document.getElementById('monthly-salary').value;
            let professional = document.getElementById('professional').value;
            let educationQualification = document.getElementById('education_qualification').value;
            let otherEducation = document.getElementById('other_education').value;

            // If "Others" is selected, replace education qualification with user input
            if (educationQualification === 'others' && otherEducation) {
                educationQualification = otherEducation;
            }

            // Set cookies
            setCookie('field25', monthlySalary, 1);
            setCookie('field8', professional, 1);
            setCookie('field2', educationQualification, 1);

            console.log("Form submitted and data stored in cookies:");
            console.log("Monthly Salary:", monthlySalary);
            console.log("Profession:", professional);
            console.log("Education Qualification:", educationQualification);

            // Redirect to another page after form submission
            window.location.href = 'partnerRequired.html';
        }

        function checkLogin() {
            let token = getCookie('token');
            if (!token) {
                window.location.href = 'login.html';
            }
        }

        window.onload = function() {
            checkLogin();
        }
    </script>
</body>
</html>
